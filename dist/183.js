/*! For license information please see 183.js.LICENSE.txt */
(self.webpackChunkpanther_image_review=self.webpackChunkpanther_image_review||[]).push([[183],{183:(t,e,n)=>{"use strict";var r={};n.r(r),n.d(r,{EPSILON:()=>ho});const o=Symbol("Comlink.proxy"),i=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.finalizer"),u=Symbol("Comlink.thrown"),l=t=>"object"==typeof t&&null!==t||"function"==typeof t,c={canHandle:t=>l(t)&&t[o],serialize(t){const{port1:e,port2:n}=new MessageChannel;return p(t,e),[n,[n]]},deserialize:t=>(t.start(),v(t,[],undefined))},f=new Map([["proxy",c],["throw",{canHandle:t=>l(t)&&u in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function p(t,e=globalThis,n=["*"]){e.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:a,type:l,path:c}=Object.assign({path:[]},i.data),f=(i.data.argumentList||[]).map(I);let g;try{const e=c.slice(0,-1).reduce(((t,e)=>t[e]),t),n=c.reduce(((t,e)=>t[e]),t);switch(l){case"GET":g=n;break;case"SET":e[c.slice(-1)[0]]=I(i.data.value),g=!0;break;case"APPLY":g=n.apply(e,f);break;case"CONSTRUCT":g=function(t){return Object.assign(t,{[o]:!0})}(new n(...f));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;p(t,n),g=function(t,e){return A.set(t,e),t}(e,[e])}break;case"RELEASE":g=void 0;break;default:return}}catch(t){g={value:t,[u]:0}}Promise.resolve(g).catch((t=>({value:t,[u]:0}))).then((n=>{const[o,i]=w(n);e.postMessage(Object.assign(Object.assign({},o),{id:a}),i),"RELEASE"===l&&(e.removeEventListener("message",r),d(e),s in t&&"function"==typeof t[s]&&t[s]())})).catch((t=>{const[n,r]=w({value:new TypeError("Unserializable return value"),[u]:0});e.postMessage(Object.assign(Object.assign({},n),{id:a}),r)}))})),e.start&&e.start()}function d(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function g(t){if(t)throw new Error("Proxy has been released and is not useable")}function y(t){return x(t,{type:"RELEASE"}).then((()=>{d(t)}))}const h=new WeakMap,m="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(h.get(t)||0)-1;h.set(t,e),0===e&&y(t)}));function v(t,e=[],n=function(){}){let r=!1;const o=new Proxy(n,{get(n,i){if(g(r),i===a)return()=>{!function(t){m&&m.unregister(t)}(o),y(t),r=!0};if("then"===i){if(0===e.length)return{then:()=>o};const n=x(t,{type:"GET",path:e.map((t=>t.toString()))}).then(I);return n.then.bind(n)}return v(t,[...e,i])},set(n,o,i){g(r);const[a,s]=w(i);return x(t,{type:"SET",path:[...e,o].map((t=>t.toString())),value:a},s).then(I)},apply(n,o,a){g(r);const s=e[e.length-1];if(s===i)return x(t,{type:"ENDPOINT"}).then(I);if("bind"===s)return v(t,e.slice(0,-1));const[u,l]=b(a);return x(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:u},l).then(I)},construct(n,o){g(r);const[i,a]=b(o);return x(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:i},a).then(I)}});return function(t,e){const n=(h.get(e)||0)+1;h.set(e,n),m&&m.register(t,e,t)}(o,t),o}function b(t){const e=t.map(w);return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))];var n}const A=new WeakMap;function w(t){for(const[e,n]of f)if(n.canHandle(t)){const[r,o]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},o]}return[{type:"RAW",value:t},A.get(t)||[]]}function I(t){switch(t.type){case"HANDLER":return f.get(t.name).deserialize(t.value);case"RAW":return t.value}}function x(t,e,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===o&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:o},e),n)}))}var C=n(63),O=n.n(C),P=n(503);const T=n.n(P)()(),E={vtkObject:()=>null};function S(t){if(null==t)return t;if(t.isA)return t;if(!t.vtkClass)return T.console&&T.console.error&&T.console.error("Invalid VTK object"),null;const e=E[t.vtkClass];if(!e)return T.console&&T.console.error&&T.console.error(`No vtk class found for Object of type ${t.vtkClass}`),null;const n={...t};Object.keys(n).forEach((t=>{n[t]&&"object"==typeof n[t]&&n[t].vtkClass&&(n[t]=S(n[t]))}));const r=e(n);return r&&r.modified&&r.modified(),r}S.register=function(t,e){E[t]=e};class k extends Array{push(){for(let t=0;t<arguments.length;t++)this.includes(arguments[t])||super.push(arguments[t]);return this.length}}let N=0;const D=Symbol("void"),_={};function M(){}["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach((t=>{_[t]=M})),T.console=console.hasOwnProperty("log")?console:_;const L={debug:M,error:T.console.error||M,info:T.console.info||M,log:T.console.log||M,warn:T.console.warn||M};function j(t,e){L[t]&&(L[t]=e||M)}function F(){L.log(...arguments)}function R(){L.info(...arguments)}function U(){L.debug(...arguments)}function z(){L.error(...arguments)}function W(){L.warn(...arguments)}const B={};function $(t){B[t]||(L.error(t),B[t]=!0)}const V=Object.create(null);V.Float32Array=Float32Array,V.Float64Array=Float64Array,V.Uint8Array=Uint8Array,V.Int8Array=Int8Array,V.Uint16Array=Uint16Array,V.Int16Array=Int16Array,V.Uint32Array=Uint32Array,V.Int32Array=Int32Array,V.Uint8ClampedArray=Uint8ClampedArray;try{V.BigInt64Array=BigInt64Array,V.BigUint64Array=BigUint64Array}catch{}function H(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return new(V[t]||Float64Array)(...n)}function G(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return(V[t]||Float64Array).from(...n)}function Y(t){return t.charAt(0).toUpperCase()+t.slice(1)}function X(t){return Y("_"===t[0]?t.slice(1):t)}function J(t){return t.charAt(0).toLowerCase()+t.slice(1)}function K(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;const r=["TB","GB","MB","KB"];let o=Number(t),i="B";for(;o>n;)o/=n,i=r.pop();return`${o.toFixed(e)} ${i}`}function q(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";const n=[];let r=t;for(;r>1e3;)n.push(("000"+r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(e)}function Q(t){Object.keys(t).forEach((e=>{Array.isArray(t[e])&&(t[e]=[].concat(t[e]))}))}function Z(t){return t&&t.isA?t.getState():t}function tt(t){setTimeout(t,0)}function et(t,e){const n=performance.now();t.finally((()=>{const t=performance.now()-n;e(t)}))}function nt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Q(e);const n=[];if(Number.isInteger(e.mtime)||(e.mtime=++N),"classHierarchy"in e){if(!(e.classHierarchy instanceof k)){const t=new k;for(let n=0;n<e.classHierarchy.length;n++)t.push(e.classHierarchy[n]);e.classHierarchy=t}}else e.classHierarchy=new k("vtkObject");function r(t){n[t]=null}return t.isDeleted=()=>!!e.deleted,t.modified=r=>{e.deleted?z("instance deleted - cannot call any method"):r&&r<t.getMTime()||(e.mtime=++N,n.forEach((e=>e&&e(t))))},t.onModified=t=>{if(e.deleted)return z("instance deleted - cannot call any method"),null;const o=n.length;return n.push(t),function(t){return Object.freeze({unsubscribe:function(){r(t)}})}(o)},t.getMTime=()=>e.mtime,t.isA=t=>{let n=e.classHierarchy.length;for(;n--;)if(e.classHierarchy[n]===t)return!0;return!1},t.getClassName=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.classHierarchy[e.classHierarchy.length-1-t]},t.set=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!1;return Object.keys(n).forEach((a=>{const s=o?null:t[`set${Y(a)}`];s&&Array.isArray(n[a])&&s.length>1?i=s(...n[a])||i:s?i=s(n[a])||i:(-1!==["mtime"].indexOf(a)||r||W(`Warning: Set value to model directly ${a}, ${n[a]}`),i=e[a]!==n[a]||i,e[a]=n[a])})),i},t.get=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return e;const o={};return n.forEach((t=>{o[t]=e[t]})),o},t.getReferenceByName=t=>e[t],t.delete=()=>{Object.keys(e).forEach((t=>delete e[t])),n.forEach(((t,e)=>r(e))),e.deleted=!0},t.getState=()=>{if(e.deleted)return null;const n={...e,vtkClass:t.getClassName()};Object.keys(n).forEach((t=>{var e;null===n[t]||void 0===n[t]||"_"===t[0]?delete n[t]:n[t].isA?n[t]=n[t].getState():Array.isArray(n[t])?n[t]=n[t].map(Z):(e=n[t],Object.values(V).some((t=>e instanceof t))&&(n[t]=Array.from(n[t])))}));const r={};return Object.keys(n).sort().forEach((t=>{r[t]=n[t]})),r.mtime&&delete r.mtime,r},t.shallowCopy=function(n){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.getClassName()!==t.getClassName())throw new Error(`Cannot ShallowCopy ${n.getClassName()} into ${t.getClassName()}`);const o=n.get(),i=Object.keys(e).sort();Object.keys(o).sort().forEach((t=>{const n=i.indexOf(t);-1===n?r&&U(`add ${t} in shallowCopy`):i.splice(n,1),e[t]=o[t]})),i.length&&r&&U(`Untouched keys: ${i.join(", ")}`),t.modified()},t.toJSON=function(){return t.getState()},t}const rt={object:(t,e,n)=>function(){return{...e[n.name]}}};function ot(t,e,n){n.forEach((n=>{if("object"==typeof n){const r=rt[n.type];t[`get${X(n.name)}`]=r?r(t,e,n):()=>e[n.name]}else t[`get${X(n)}`]=()=>e[n]}))}const it={enum(t,e,n){const r=`_on${X(n.name)}Changed`;return o=>{if("string"==typeof o){if(void 0!==n.enum[o])return e[n.name]!==n.enum[o]&&(e[n.name]=n.enum[o],t.modified(),!0);throw z(`Set Enum with invalid argument ${n}, ${o}`),new RangeError("Set Enum with invalid string argument")}if("number"==typeof o){if(e[n.name]!==o){if(-1!==Object.keys(n.enum).map((t=>n.enum[t])).indexOf(o)){const i=e[n.name];return e[n.name]=o,e[r]?.(t,e,o,i),t.modified(),!0}throw z(`Set Enum outside numeric range ${n}, ${o}`),new RangeError("Set Enum outside numeric range")}return!1}throw z(`Set Enum with invalid argument (String/Number) ${n}, ${o}`),new TypeError("Set Enum with invalid argument (String/Number)")}},object(t,e,n){1===n.params?.length&&W('Setter of type "object" with a single "param" field is not supported');const r=`_on${X(n.name)}Changed`;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];let s;if(s=i.length>1&&n.params?.length?n.params.reduce(((t,e,n)=>Object.assign(t,{[e]:i[n]})),{}):i[0],!O()(e[n.name],s)){const o=e[n.name];return e[n.name]=s,e[r]?.(t,e,s,o),t.modified(),!0}return!1}}};function at(t){if("object"==typeof t){const e=it[t.type];if(e)return(n,r)=>e(n,r,t);throw z(`No setter for field ${t}`),new TypeError("No setter for field")}return function(e,n){const r=`_on${X(t)}Changed`;return function(o){if(n.deleted)return z("instance deleted - cannot call any method"),!1;if(n[t]!==o){const i=n[t.name];return n[t]=o,n[r]?.(e,n,o,i),e.modified(),!0}return!1}}}function st(t,e,n){n.forEach((n=>{"object"==typeof n?t[`set${X(n.name)}`]=at(n)(t,e):t[`set${X(n)}`]=at(n)(t,e)}))}function ut(t,e,n){ot(t,e,n),st(t,e,n)}function lt(t,e,n){n.forEach((n=>{t[`get${X(n)}`]=()=>e[n]?Array.from(e[n]):e[n],t[`get${X(n)}ByReference`]=()=>e[n]}))}function ct(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach((n=>{if(e[n]&&r&&e[n].length!==r)throw new RangeError(`Invalid initial number of values for array (${n})`);const i=`_on${X(n)}Changed`;t[`set${X(n)}`]=function(){if(e.deleted)return z("instance deleted - cannot call any method"),!1;for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];let l,c=s,f=!1;if(1===c.length&&(null==c[0]||c[0].length>=0)&&(c=c[0],f=!0),null==c)l=e[n]!==c;else{if(r&&c.length!==r){if(!(c.length<r&&void 0!==o))throw new RangeError(`Invalid number of values for array setter (${n})`);for(c=Array.from(c),f=!1;c.length<r;)c.push(o)}l=null==e[n]||e[n].length!==c.length;for(let t=0;!l&&t<c.length;++t)l=e[n][t]!==c[t];l&&f&&(c=Array.from(c))}if(l){const r=e[n.name];e[n]=c,e[i]?.(t,e,c,r),t.modified()}return l},t[`set${X(n)}From`]=t=>{const r=e[n];t.forEach(((t,e)=>{r[e]=t}))}}))}function ft(t,e,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;lt(t,e,n),ct(t,e,n,r,o)}function pt(t,e,n){for(let t=0;t<n.length;t++){const r=n[t];void 0!==e[r]&&(e[`_${r}`]=e[r],delete e[r])}}function dt(t,e,n,r){function o(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.deleted?z("instance deleted - cannot call any method"):r>=e.numberOfInputs?z(`algorithm ${t.getClassName()} only has ${e.numberOfInputs} input ports. To add more input ports, use addInputData()`):(e.inputData[r]!==n||e.inputConnection[r])&&(e.inputData[r]=n,e.inputConnection[r]=null,t.modified&&t.modified())}function i(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.deleted)z("instance deleted - cannot call any method");else{if(r>=e.numberOfInputs){let n=`algorithm ${t.getClassName()} only has `;return n+=`${e.numberOfInputs}`,n+=" input ports. To add more input ports, use addInputConnection()",void z(n)}e.inputData[r]=null,e.inputConnection[r]=n}}function a(){let t=e.numberOfInputs;for(;t&&!e.inputData[t-1]&&!e.inputConnection[t-1];)t--;return t===e.numberOfInputs&&e.numberOfInputs++,t}function s(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.deleted?(z("instance deleted - cannot call any method"),null):(t.shouldUpdate()&&t.update(),e.output[n])}if(e.inputData?e.inputData=e.inputData.map(S):e.inputData=[],e.inputConnection?e.inputConnection=e.inputConnection.map(S):e.inputConnection=[],e.output?e.output=e.output.map(S):e.output=[],e.inputArrayToProcess?e.inputArrayToProcess=e.inputArrayToProcess.map(S):e.inputArrayToProcess=[],e.numberOfInputs=n,t.shouldUpdate=()=>{const n=t.getMTime();let o=1/0,i=r;for(;i--;){if(!e.output[i]||e.output[i].isDeleted())return!0;const t=e.output[i].getMTime();if(t<n)return!0;t<o&&(o=t)}for(i=e.numberOfInputs;i--;)if(e.inputConnection[i]?.filter.shouldUpdate()||t.getInputData(i)?.getMTime()>o)return!0;return!1},e.numberOfInputs){let n=e.numberOfInputs;for(;n--;)e.inputData.push(null),e.inputConnection.push(null);t.setInputData=o,t.setInputConnection=i,t.addInputData=function(t){e.deleted?z("instance deleted - cannot call any method"):o(t,a())},t.addInputConnection=function(t){e.deleted?z("instance deleted - cannot call any method"):i(t,a())},t.getInputData=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.inputConnection[t]&&(e.inputData[t]=e.inputConnection[t]()),e.inputData[t]},t.getInputConnection=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e.inputConnection[t]}}r&&(t.getOutputData=s,t.getOutputPort=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const n=()=>s(e);return n.filter=t,n}),t.update=()=>{const n=[];if(e.numberOfInputs){let r=0;for(;r<e.numberOfInputs;)n[r]=t.getInputData(r),r++}t.shouldUpdate()&&t.requestData&&t.requestData(n,e.output)},t.getNumberOfInputPorts=()=>e.numberOfInputs,t.getNumberOfOutputPorts=()=>r||e.output.length,t.getInputArrayToProcess=t=>{const n=e.inputArrayToProcess[t],r=e.inputData[t];return n&&r?r[`get${n.fieldAssociation}`]().getArray(n.arrayName):null},t.setInputArrayToProcess=function(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";for(;e.inputArrayToProcess.length<t;)e.inputArrayToProcess.push(null);e.inputArrayToProcess[t]={arrayName:n,fieldAssociation:r,attributeType:o}}}const gt=Symbol("Event abort");function yt(t,e,n){const r=[],o=t.delete;let i=1;function a(t){for(let e=0;e<r.length;++e){const[n]=r[e];if(n===t)return void r.splice(e,1)}}t[`invoke${X(n)}`]=function(){if(e.deleted)return void z("instance deleted - cannot call any method");const n=r.slice();for(let e=0;e<n.length;++e){const[,r,o]=n[e];if(r)if(o<0)setTimeout((()=>r.apply(t,arguments)),1-o);else if(r.apply(t,arguments)===gt)break}},t[`on${X(n)}`]=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t.apply)return console.error(`Invalid callback for event ${n}`),null;if(e.deleted)return z("instance deleted - cannot call any method"),null;const s=i++;return r.push([s,t,o]),r.sort(((t,e)=>e[2]-t[2])),function(t){return Object.freeze({unsubscribe:function(){a(t)}})}(s)},t.delete=()=>{o(),r.forEach((t=>{let[e]=t;return a(e)}))}}function ht(t,e){const n=function(){const e={};return t(e,{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Object.freeze(e)};return e&&S.register(e,n),n}function mt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.filter((t=>!!t)).map((t=>t(...n)))}}function vt(t){return t&&t.isA&&t.isA("vtkObject")}function bt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(vt(t)){if(r.indexOf(t)>=0)return n;r.push(t);const o=e(t);void 0!==o&&n.push(o);const i=t.get();Object.keys(i).forEach((t=>{const o=i[t];Array.isArray(o)?o.forEach((t=>{bt(t,e,n,r)})):bt(o,e,n,r)}))}return n}function At(t,e,n){var r=this;let o;const i=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const u=r,l=n&&!o;clearTimeout(o),o=setTimeout((()=>{o=null,n||t.apply(u,a)}),e),l&&t.apply(u,a)};return i.cancel=()=>clearTimeout(o),i}function wt(t,e){let n=!1,r=null;function o(){n=!1,null!==r&&(i(...r),r=null)}function i(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];n?r=a:(n=!0,t(...a),setTimeout(o,e))}return i}function It(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.keystore=Object.assign(e.keystore||{},n),t.setKey=(t,n)=>{e.keystore[t]=n},t.getKey=t=>e.keystore[t],t.getAllKeys=()=>Object.keys(e.keystore),t.deleteKey=t=>delete e.keystore[t],t.clearKeystore=()=>t.getAllKeys().forEach((t=>delete e.keystore[t]))}let xt=1;const Ct="__root__";function Ot(t,e){It(t,e);const n=t.delete;e.proxyId=""+xt++,e.ui=JSON.parse(JSON.stringify(e.ui||[])),ot(t,e,["proxyId","proxyGroup","proxyName"]),ut(t,e,["proxyManager"]);const r={},o={};function i(t,e){o[e]||(o[e]=[]);const n=o[e];for(let e=0;e<t.length;e++)n.push(t[e].name),r[t[e].name]=t[e],t[e].children&&t[e].children.length&&i(t[e].children,t[e].name)}function a(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct;const r=[],i=e.proxyId,s=function(){return o[arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct]}(n)||[];for(let e=0;e<s.length;e++){const n=s[e],o=t[`get${X(n)}`],u={id:i,name:n,value:o?o():void 0},l=a(n);l.length&&(u.children=l),r.push(u)}return r}i(e.ui,Ct),t.updateUI=n=>{e.ui=JSON.parse(JSON.stringify(n||[])),Object.keys(r).forEach((t=>delete r[t])),Object.keys(o).forEach((t=>delete o[t])),i(e.ui,Ct),t.modified()},t.updateProxyProperty=(t,e)=>{const n=r[t];n?Object.assign(n,e):r[t]={...e}},t.activate=()=>{if(e.proxyManager){const n=`setActive${X(t.getProxyGroup().slice(0,-1))}`;e.proxyManager[n]&&e.proxyManager[n](t)}},e.propertyLinkSubscribers={},t.registerPropertyLinkForGC=(t,n)=>{n in e.propertyLinkSubscribers||(e.propertyLinkSubscribers[n]=[]),e.propertyLinkSubscribers[n].push(t)},t.gcPropertyLinks=n=>{const r=e.propertyLinkSubscribers[n]||[];for(;r.length;)r.pop().unbind(t)},e.propertyLinkMap={},t.getPropertyLink=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.propertyLinkMap[t])return e.propertyLinkMap[t];let r=null;const o=[];let i=0,a=!1;function s(n){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(a)return null;const u=[];let l=null;for(i=o.length;i--;){const t=o[i];t.instance===n?l=t:u.push(t)}if(!l)return null;const c=l.instance[`get${X(l.propertyName)}`]();if(!function(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}(c,r)||s){for(r=c,a=!0;u.length;){const t=u.pop();t.instance.set({[t.propertyName]:r})}a=!1}return e.propertyLinkMap[t].persistent&&(e.propertyLinkMap[t].value=c),c}function u(t,e){const n=[];for(i=o.length;i--;){const r=o[i];r.instance!==t||r.propertyName!==e&&void 0!==e||(r.subscription.unsubscribe(),n.push(i))}for(;n.length;)o.splice(n.pop(),1)}const l={bind:function(n,r){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=n.onModified(s),l=o[0];return o.push({instance:n,propertyName:r,subscription:a}),i&&(e.propertyLinkMap[t].persistent&&void 0!==e.propertyLinkMap[t].value?n.set({[r]:e.propertyLinkMap[t].value}):l&&s(l.instance,!0)),{unsubscribe:()=>u(n,r)}},unbind:u,unsubscribe:function(){for(;o.length;)o.pop().subscription.unsubscribe()},persistent:n};return e.propertyLinkMap[t]=l,l},t.listPropertyNames=()=>a().map((t=>t.name)),t.getPropertyByName=t=>a().find((e=>e.name===t)),t.getPropertyDomainByName=t=>(r[t]||{}).domain,t.getProxySection=()=>({id:e.proxyId,name:e.proxyGroup,ui:e.ui,properties:a()}),t.delete=()=>{const r=Object.keys(e.propertyLinkMap);let o=r.length;for(;o--;)e.propertyLinkMap[r[o]].unsubscribe();Object.keys(e.propertyLinkSubscribers).forEach(t.gcPropertyLinks),n()},t.getState=()=>null,tt((function(){if(e.links)for(let n=0;n<e.links.length;n++){const{link:r,property:o,persistent:i,updateOnBind:a,type:s}=e.links[n];if("application"===s){const n=e.proxyManager.getPropertyLink(r,i);t.registerPropertyLinkForGC(n,"application"),n.bind(t,o,a)}}}))}function Pt(t,e,n){const r=t.delete,o=[],i=Object.keys(n);let a=i.length;for(;a--;){const r=i[a],{modelKey:s,property:u,modified:l=!0}=n[r],c=X(u),f=X(r);t[`get${f}`]=e[s][`get${c}`],t[`set${f}`]=e[s][`set${c}`],l&&o.push(e[s].onModified(t.modified))}t.delete=()=>{for(;o.length;)o.pop().unsubscribe();r()}}function Tt(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};function o(t){const n=Object.keys(t);let r=n.length;for(;r--;){const o=n[r];e[o].set(t[o])}}e.this=t;const i=Object.keys(r);let a=i.length;for(;a--;){const s=i[a];e[s]=r[s];const u=n[s];t[`set${X(s)}`]=n=>{n!==e[s]&&(e[s]=n,o(u[n]),t.modified())}}i.length&&ot(t,e,i)}function Et(t){let e=0,n=0,r=0,o=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),r=10*e,o=10*n,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(1===t.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!e&&(e=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:e,spinY:n||e,pixelX:r,pixelY:o||r}}var St={algo:dt,capitalize:Y,chain:mt,debounce:At,enumToString:function(t,e){return Object.keys(t).find((n=>t[n]===e))},event:yt,EVENT_ABORT:gt,formatBytesToProperUnit:K,formatNumbersWithThousandSeparator:q,get:ot,getArray:lt,getCurrentGlobalMTime:function(){return N},getStateArrayMapFunc:Z,isVtkObject:vt,keystore:It,measurePromiseExecution:et,moveToProtected:pt,newInstance:ht,newTypedArray:H,newTypedArrayFrom:G,normalizeWheel:Et,obj:nt,proxy:Ot,proxyPropertyMapping:Pt,proxyPropertyState:Tt,safeArrays:Q,set:st,setArray:ct,setGet:ut,setGetArray:ft,setImmediate:tt,setLoggerFunction:j,throttle:wt,traverseInstanceTree:bt,TYPED_ARRAYS:V,uncapitalize:J,VOID:D,vtkDebugMacro:U,vtkErrorMacro:z,vtkInfoMacro:R,vtkLogMacro:F,vtkOnceErrorMacro:$,vtkWarningMacro:W,objectSetterMap:it},kt=Object.freeze({__proto__:null,VOID:D,setLoggerFunction:j,vtkLogMacro:F,vtkInfoMacro:R,vtkDebugMacro:U,vtkErrorMacro:z,vtkWarningMacro:W,vtkOnceErrorMacro:$,TYPED_ARRAYS:V,newTypedArray:H,newTypedArrayFrom:G,capitalize:Y,_capitalize:X,uncapitalize:J,formatBytesToProperUnit:K,formatNumbersWithThousandSeparator:q,setImmediateVTK:tt,measurePromiseExecution:et,obj:nt,get:ot,set:st,setGet:ut,getArray:lt,setArray:ct,setGetArray:ft,moveToProtected:pt,algo:dt,EVENT_ABORT:gt,event:yt,newInstance:ht,chain:mt,isVtkObject:vt,traverseInstanceTree:bt,debounce:At,throttle:wt,keystore:It,proxy:Ot,proxyPropertyMapping:Pt,proxyPropertyState:Tt,normalizeWheel:Et,default:St});n(377);const{vtkErrorMacro:Nt,vtkWarningMacro:Dt}=St;function _t(t){return()=>Nt(`vtkMath::${t} - NOT IMPLEMENTED`)}function Mt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=Array(t);for(let n=0;n<t;++n)e[n]=0;return e}const{round:Lt,floor:jt,ceil:Ft,min:Rt,max:Ut}=Math;function zt(t,e,n){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n}function Wt(t,e,n,r){return r[0]=t[0]+e[0]*n,r[1]=t[1]+e[1]*n,r[2]=t[2]+e[2]*n,r}function Bt(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $t(t,e,n){const r=t[1]*e[2]-t[2]*e[1],o=t[2]*e[0]-t[0]*e[2],i=t[0]*e[1]-t[1]*e[0];return n[0]=r,n[1]=o,n[2]=i,n}function Vt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(e){case 1:return Math.abs(t);case 2:return Math.sqrt(t[0]*t[0]+t[1]*t[1]);case 3:return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);default:{let n=0;for(let r=0;r<e;r++)n+=t[r]*t[r];return Math.sqrt(n)}}}function Ht(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}function Gt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 2===e.length?e[0][0]*e[1][1]-e[1][0]*e[0][1]:4===e.length?e[0]*e[3]-e[1]*e[2]:Number.NaN}function Yt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!`${t}`.includes("e"))return+`${Math.round(`${t}e+${e}`)}e-${e}`;const n=`${t}`.split("e");let r="";return+n[1]+e>0&&(r="+"),+`${Math.round(`${+n[0]}e${r}${+n[1]+e}`)}e-${e}`}function Xt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e[0]=Yt(t[0],n),e[1]=Yt(t[1],n),e[2]=Yt(t[2],n),e}function Jt(t,e,n){if(2===n){const n=Mt(2),r=Gt(t[0],t[1],t[2],t[3]);return 0===r?0:(n[0]=(t[3]*e[0]-t[1]*e[1])/r,n[1]=(-t[2]*e[0]+t[0]*e[1])/r,e[0]=n[0],e[1]=n[1],1)}if(1===n)return 0===t[0]?0:(e[0]/=t[0],1);const r=Mt(n);return 0===function(t,e,n){let r,o,i,a,s,u,l,c=0;const f=Mt(n);for(r=0;r<n;r++){for(a=0,o=0;o<n;o++)(l=Math.abs(t[r*n+o]))>a&&(a=l);if(0===a)return Dt("Unable to factor linear system"),0;f[r]=1/a}for(o=0;o<n;o++){for(r=0;r<o;r++){for(s=t[r*n+o],i=0;i<r;i++)s-=t[r*n+i]*t[i*n+o];t[r*n+o]=s}for(a=0,r=o;r<n;r++){for(s=t[r*n+o],i=0;i<o;i++)s-=t[r*n+i]*t[i*n+o];t[r*n+o]=s,(u=f[r]*Math.abs(s))>=a&&(a=u,c=r)}if(o!==c){for(i=0;i<n;i++)u=t[c*n+i],t[c*n+i]=t[o*n+i],t[o*n+i]=u;f[c]=f[o]}if(e[o]=c,Math.abs(t[o*n+o])<=1e-12)return Dt("Unable to factor linear system"),0;if(o!==n-1)for(u=1/t[o*n+o],r=o+1;r<n;r++)t[r*n+o]*=u}return 1}(t,r,n)?0:(function(t,e,n,r){let o,i,a,s,u;for(a=-1,o=0;o<r;o++){if(s=e[o],u=n[s],n[s]=n[o],a>=0)for(i=a;i<=o-1;i++)u-=t[o*r+i]*n[i];else 0!==u&&(a=o);n[o]=u}for(o=r-1;o>=0;o--){for(u=n[o],i=o+1;i<r;i++)u-=t[o*r+i]*n[i];n[o]=u/t[o*r+o]}}(t,r,e,n),1)}function Kt(t,e,n){return t<e?e:t>n?n:t}function qt(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0,0];return r[0]=Kt(t[0],e[0],n[0]),r[1]=Kt(t[1],e[1],n[1]),r[2]=Kt(t[2],e[2],n[2]),r}_t("ceilLog2"),_t("factorial"),_t("gaussian"),_t("GetScalarTypeFittingRange"),_t("GetAdjustedScalarRange");const{isFinite:Qt,isNaN:Zt}=Number;var te=1e-6,ee="undefined"!=typeof Float32Array?Float32Array:Array;function ne(){var t=new ee(3);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function re(t){var e=new ee(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function oe(t,e,n){var r=new ee(3);return r[0]=t,r[1]=e,r[2]=n,r}function ie(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function ae(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function se(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ue(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});ne();const le={};function ce(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,le,n),St.obj(t,e),St.setGet(t,e,["transform"]),function(t,e){e.classHierarchy.push("vtkImplicitFunction"),t.functionValue=n=>{if(!e.transform)return t.evaluateFunction(n);const r=[];return e.transform.transformPoint(n,r),t.evaluateFunction(r)},t.evaluateFunction=t=>{St.vtkErrorMacro("not implemented")}}(t,e)}var fe={newInstance:St.newInstance(ce,"vtkImplicitFunction"),extend:ce};const pe=1e-6,de="coincide",ge="disjoint";function ye(t,e,n){const r=n[0]*(t[0]-e[0])+n[1]*(t[1]-e[1])+n[2]*(t[2]-e[2]);return Math.abs(r)}function he(t,e,n,r){const o=[];zt(t,e,o);const i=Bt(n,o);r[0]=t[0]-i*n[0],r[1]=t[1]-i*n[1],r[2]=t[2]-i*n[2]}function me(t,e,n){const r=Bt(t,e);let o=Bt(e,e);return 0===o&&(o=1),n[0]=t[0]-r*e[0]/o,n[1]=t[1]-r*e[1]/o,n[2]=t[2]-r*e[2]/o,n}function ve(t,e,n,r){const o=[];zt(t,e,o);const i=Bt(n,o),a=Bt(n,n);0!==a?(r[0]=t[0]-i*n[0]/a,r[1]=t[1]-i*n[1]/a,r[2]=t[2]-i*n[2]/a):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function be(t,e,n,r){const o={intersection:!1,betweenPoints:!1,t:Number.MAX_VALUE,x:[]},i=[],a=[];zt(e,t,i),zt(n,t,a);const s=Bt(r,a),u=Bt(r,i);let l,c;return l=u<0?-u:u,c=s<0?-s*pe:s*pe,l<=c||(o.t=s/u,o.x[0]=t[0]+o.t*i[0],o.x[1]=t[1]+o.t*i[1],o.x[2]=t[2]+o.t*i[2],o.intersection=!0,o.betweenPoints=o.t>=0&&o.t<=1),o}function Ae(t,e,n,r){const o={intersection:!1,l0:[],l1:[],error:null},i=[];$t(e,r,i);const a=i.map((t=>Math.abs(t)));if(a[0]+a[1]+a[2]<pe){const r=[];return zt(t,n,r),0===Bt(e,r)?o.error=de:o.error=ge,o}let s;s=a[0]>a[1]&&a[0]>a[2]?"x":a[1]>a[2]?"y":"z";const u=[],l=-Bt(e,t),c=-Bt(r,n);switch(s){case"x":u[0]=0,u[1]=(c*e[2]-l*r[2])/i[0],u[2]=(l*r[1]-c*e[1])/i[0];break;case"y":u[0]=(l*r[2]-c*e[2])/i[1],u[1]=0,u[2]=(c*e[0]-l*r[0])/i[1];break;case"z":u[0]=(c*e[1]-l*r[1])/i[2],u[1]=(l*r[0]-c*e[0])/i[2],u[2]=0}return o.l0=u,function(t,e,n){n[0]=t[0]+e[0],n[1]=t[1]+e[1],n[2]=t[2]+e[2]}(u,i,o.l1),o.intersection=!0,o}const we={evaluate:function(t,e,n){return t[0]*(n[0]-e[0])+t[1]*(n[1]-e[1])+t[2]*(n[2]-e[2])},distanceToPlane:ye,projectPoint:he,projectVector:me,generalizedProjectPoint:ve,intersectWithLine:be,intersectWithPlane:Ae,DISJOINT:ge,COINCIDE:de},Ie={normal:[0,0,1],origin:[0,0,0]};function xe(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Ie,n),fe.extend(t,e,n),St.setGetArray(t,e,["normal","origin"],3),function(t,e){e.classHierarchy.push("vtkPlane"),t.distanceToPlane=t=>ye(t,e.origin,e.normal),t.projectPoint=(t,n)=>{he(t,e.origin,e.normal,n)},t.projectVector=(t,n)=>me(t,e.normal,n),t.push=t=>{if(0!==t)for(let n=0;n<3;n++)e.origin[n]+=t*e.normal[n]},t.generalizedProjectPoint=(t,n)=>{ve(t,e.origin,e.normal,n)},t.evaluateFunction=(t,n,r)=>Array.isArray(t)?e.normal[0]*(t[0]-e.origin[0])+e.normal[1]*(t[1]-e.origin[1])+e.normal[2]*(t[2]-e.origin[2]):e.normal[0]*(t-e.origin[0])+e.normal[1]*(n-e.origin[1])+e.normal[2]*(r-e.origin[2]),t.evaluateGradient=t=>[e.normal[0],e.normal[1],e.normal[2]],t.intersectWithLine=(t,n)=>be(t,n,e.origin,e.normal),t.intersectWithPlane=(t,n)=>Ae(t,n,e.origin,e.normal)}(t,e)}var Ce={newInstance:St.newInstance(xe,"vtkPlane"),extend:xe,...we};const Oe=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];function Pe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function Te(t){return t?.length>=6&&t[0]<=t[1]&&t[2]<=t[3]&&t[4]<=t[5]}function Ee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Se(t){return Ee(t,Oe)}function ke(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=o<e?o:e,t[1]=i>e?i:e,t[2]=a<n?a:n,t[3]=s>n?s:n,t[4]=u<r?u:r,t[5]=l>r?l:r,t}function Ne(t,e){if(0===e.length)return t;if(Array.isArray(e[0]))for(let n=0;n<e.length;++n)ke(t,...e[n]);else for(let n=0;n<e.length;n+=3)ke(t,...e.slice(n,n+3));return t}function De(t,e,n,r,o,i,a){const[s,u,l,c,f,p]=t;return void 0===a?(t[0]=Math.min(e[0],s),t[1]=Math.max(e[1],u),t[2]=Math.min(e[2],l),t[3]=Math.max(e[3],c),t[4]=Math.min(e[4],f),t[5]=Math.max(e[5],p)):(t[0]=Math.min(e,s),t[1]=Math.max(n,u),t[2]=Math.min(r,l),t[3]=Math.max(o,c),t[4]=Math.min(i,f),t[5]=Math.max(a,p)),t}function _e(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=e,t[1]=e>i?e:i,t[2]=n,t[3]=n>s?n:s,t[4]=r,t[5]=r>l?r:l,o!==e||a!==n||u!==r}function Me(t,e,n,r){const[o,i,a,s,u,l]=t;return t[0]=e<o?e:o,t[1]=e,t[2]=n<a?n:a,t[3]=n,t[4]=r<u?r:u,t[5]=r,i!==e||s!==n||l!==r}function Le(t,e){return t[0]-=e,t[1]+=e,t[2]-=e,t[3]+=e,t[4]-=e,t[5]+=e,t}function je(t,e,n,r){return!!Te(t)&&(e>=0?(t[0]*=e,t[1]*=e):(t[0]=e*t[1],t[1]=e*t[0]),n>=0?(t[2]*=n,t[3]*=n):(t[2]=n*t[3],t[3]=n*t[2]),r>=0?(t[4]*=r,t[5]*=r):(t[4]=r*t[5],t[5]=r*t[4]),!0)}function Fe(t){return[.5*(t[0]+t[1]),.5*(t[2]+t[3]),.5*(t[4]+t[5])]}function Re(t,e){return t[2*e+1]-t[2*e]}function Ue(t){return[Re(t,0),Re(t,1),Re(t,2)]}function ze(t){return t.slice(0,2)}function We(t){return t.slice(2,4)}function Be(t){return t.slice(4,6)}function $e(t){const e=Ue(t);return e[0]>e[1]?e[0]>e[2]?e[0]:e[2]:e[1]>e[2]?e[1]:e[2]}function Ve(t){if(Te(t)){const e=Ue(t);return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])}return null}function He(t){return[t[0],t[2],t[4]]}function Ge(t){return[t[1],t[3],t[5]]}function Ye(t,e){return t<=0&&e>=0||t>=0&&e<=0}function Xe(t,e){let n=0;for(let r=0;r<2;r++)for(let o=2;o<4;o++)for(let i=4;i<6;i++)e[n++]=[t[r],t[o],t[i]];return e}function Je(t,e,n){return e[0]=t[0],e[1]=t[2],e[2]=t[4],n[0]=t[1],n[1]=t[3],n[2]=t[5],e}function Ke(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=Xe(t,[]);for(let t=0;t<r.length;++t)ue(r[t],r[t],e);return Se(n),Ne(n,r)}function qe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[0]=.5*(t[1]-t[0]),e[1]=.5*(t[3]-t[2]),e[2]=.5*(t[5]-t[4]),e}function Qe(t,e,n,r){const o=[].concat(Oe),i=t.getData();for(let t=0;t<i.length;t+=3){const a=[i[t],i[t+1],i[t+2]],s=Bt(a,e);o[0]=Math.min(s,o[0]),o[1]=Math.max(s,o[1]);const u=Bt(a,n);o[2]=Math.min(u,o[2]),o[3]=Math.max(u,o[3]);const l=Bt(a,r);o[4]=Math.min(l,o[4]),o[5]=Math.max(l,o[5])}return o}function Ze(t,e,n,r,o){let i=!0;const a=[];let s=0;const u=[],l=[0,0,0];for(let n=0;n<3;n++)e[n]<t[2*n]?(a[n]=1,l[n]=t[2*n],i=!1):e[n]>t[2*n+1]?(a[n]=0,l[n]=t[2*n+1],i=!1):a[n]=2;if(i)return r[0]=e[0],r[1]=e[1],r[2]=e[2],o[0]=0,1;for(let t=0;t<3;t++)2!==a[t]&&0!==n[t]?u[t]=(l[t]-e[t])/n[t]:u[t]=-1;for(let t=0;t<3;t++)u[s]<u[t]&&(s=t);if(u[s]>1||u[s]<0)return 0;o[0]=u[s];for(let o=0;o<3;o++)if(s!==o){if(r[o]=e[o]+u[s]*n[o],r[o]<t[2*o]||r[o]>t[2*o+1])return 0}else r[o]=l[o];return 1}function tn(t,e,n){const r=[];let o=0,i=1,a=1;for(let s=4;s<=5;++s){r[2]=t[s];for(let s=2;s<=3;++s){r[1]=t[s];for(let s=0;s<=1;++s)if(r[0]=t[s],o=Ce.evaluate(n,e,r),a&&(i=o>=0?1:-1,a=0),0===o||i>0&&o<0||i<0&&o>0)return 1}}return 0}function en(t,e){if(!Te(t)||!Te(e))return!1;const n=[0,0,0,0,0,0];let r;for(let o=0;o<3;o++)if(r=!1,e[2*o]>=t[2*o]&&e[2*o]<=t[2*o+1]?(r=!0,n[2*o]=e[2*o]):t[2*o]>=e[2*o]&&t[2*o]<=e[2*o+1]&&(r=!0,n[2*o]=t[2*o]),e[2*o+1]>=t[2*o]&&e[2*o+1]<=t[2*o+1]?(r=!0,n[2*o+1]=e[2*o+1]):t[2*o+1]>=e[2*o]&&t[2*o+1]<=e[2*o+1]&&(r=!0,n[2*o+1]=t[2*o+1]),!r)return!1;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],!0}function nn(t,e){if(!Te(t)||!Te(e))return!1;for(let n=0;n<3;n++)if(!(e[2*n]>=t[2*n]&&e[2*n]<=t[2*n+1]||t[2*n]>=e[2*n]&&t[2*n]<=e[2*n+1]||e[2*n+1]>=t[2*n]&&e[2*n+1]<=t[2*n+1]||t[2*n+1]>=e[2*n]&&t[2*n+1]<=e[2*n+1]))return!1;return!0}function rn(t,e,n,r){return!(e<t[0]||e>t[1]||n<t[2]||n>t[3]||r<t[4]||r>t[5])}function on(t,e,n){const r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],o=[0,0,0,0,0,0,0,0];let i=0;for(let r=0;r<2;r++)for(let a=2;a<4;a++)for(let s=4;s<6;s++){const u=[t[r],t[a],t[s]];o[i++]=Ce.evaluate(n,e,u)}let a=2;for(;a--&&!(Ye(o[r[a][0]],o[r[a][4]])&&Ye(o[r[a][1]],o[r[a][5]])&&Ye(o[r[a][2]],o[r[a][6]])&&Ye(o[r[a][3]],o[r[a][7]])););if(a<0)return!1;const s=Math.sign(n[a]),u=Math.abs((t[2*a+1]-t[2*a])*n[a]);let l=s>0?1:0;for(let t=0;t<4;t++){if(0===u)continue;const e=Math.abs(o[r[a][t]])/u;s>0&&e<l&&(l=e),s<0&&e>l&&(l=e)}const c=(1-l)*t[2*a]+l*t[2*a+1];return s>0?t[2*a]=c:t[2*a+1]=c,!0}class an{constructor(t){this.bounds=t,this.bounds||(this.bounds=new Float64Array(Oe))}getBounds(){return this.bounds}equals(t){return Pe(this.bounds,t)}isValid(){return Te(this.bounds)}setBounds(t){return Ee(this.bounds,t)}reset(){return Se(this.bounds)}addPoint(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return ke(this.bounds,...e)}addPoints(t){return Ne(this.bounds,t)}addBounds(t,e,n,r,o,i){return De(this.bounds,t,e,n,r,o,i)}setMinPoint(t,e,n){return _e(this.bounds,t,e,n)}setMaxPoint(t,e,n){return Me(this.bounds,t,e,n)}inflate(t){return Le(this.bounds,t)}scale(t,e,n){return je(this.bounds,t,e,n)}getCenter(){return Fe(this.bounds)}getLength(t){return Re(this.bounds,t)}getLengths(){return Ue(this.bounds)}getMaxLength(){return $e(this.bounds)}getDiagonalLength(){return Ve(this.bounds)}getMinPoint(){return He(this.bounds)}getMaxPoint(){return Ge(this.bounds)}getXRange(){return ze(this.bounds)}getYRange(){return We(this.bounds)}getZRange(){return Be(this.bounds)}getCorners(t){return Xe(this.bounds,t)}computeCornerPoints(t,e){return Je(this.bounds,t,e)}computeLocalBounds(t,e,n){return Qe(this.bounds,t,e,n)}transformBounds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Ke(this.bounds,t,e)}computeScale3(t){return qe(this.bounds,t)}cutWithPlane(t,e){return on(this.bounds,t,e)}intersectBox(t,e,n,r){return Ze(this.bounds,t,e,n,r)}intersectPlane(t,e){return tn(this.bounds,t,e)}intersect(t){return en(this.bounds,t)}intersects(t){return nn(this.bounds,t)}containsPoint(t,e,n){return rn(this.bounds,t,e,n)}contains(t){return nn(this.bounds,t)}}var sn={newInstance:function(t){const e=t&&t.bounds;return new an(e)},equals:Pe,isValid:Te,setBounds:Ee,reset:Se,addPoint:ke,addPoints:Ne,addBounds:De,setMinPoint:_e,setMaxPoint:Me,inflate:Le,scale:je,scaleAboutCenter:function(t,e,n,r){if(!Te(t))return!1;const o=Fe(t);return t[0]-=o[0],t[1]-=o[0],t[2]-=o[1],t[3]-=o[1],t[4]-=o[2],t[5]-=o[2],je(t,e,n,r),t[0]+=o[0],t[1]+=o[0],t[2]+=o[1],t[3]+=o[1],t[4]+=o[2],t[5]+=o[2],!0},getCenter:Fe,getLength:Re,getLengths:Ue,getMaxLength:$e,getDiagonalLength:Ve,getMinPoint:He,getMaxPoint:Ge,getXRange:ze,getYRange:We,getZRange:Be,getCorners:Xe,computeCornerPoints:Je,computeLocalBounds:Qe,transformBounds:Ke,computeScale3:qe,cutWithPlane:on,intersectBox:Ze,intersectPlane:tn,intersect:en,intersects:nn,containsPoint:rn,contains:function(t,e){return!!nn(t,e)&&!!rn(t,...He(e))&&!!rn(t,...Ge(e))},INIT_BOUNDS:Oe};const un={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",UNSIGNED_CHAR_CLAMPED:"Uint8ClampedArray",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"};var ln={DefaultDataType:un.FLOAT,DataTypeByteSize:{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},VtkDataTypes:un};const{vtkErrorMacro:cn}=kt,{DefaultDataType:fn}=ln;function pn(t,e,n){const r=t.length;let o,i,a=Number.MAX_VALUE,s=-Number.MAX_VALUE;for(i=e;i<r;i+=n)if(!Number.isNaN(t[i])){a=t[i],s=a;break}for(;i<r;i+=n)o=t[i],o<a?a=o:o>s&&(s=o);return{min:a,max:s}}function dn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e<0&&n>1){const e=t.length/n,r=new Float64Array(e);for(let o=0,i=0;o<e;++o){for(let e=i+n;i<e;++i)r[o]+=t[i]*t[i];r[o]**=.5}return pn(r,0,1)}return pn(t,e<0?0:e,n)}function gn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=t||[];for(;n.length<=e;)n.push(null);return n}function yn(t){return Object.prototype.toString.call(t).slice(8,-1)}const hn={computeRange:dn,createRangeHelper:function(){let t=Number.MAX_VALUE,e=-Number.MAX_VALUE,n=0,r=0;return{add(o){t>o&&(t=o),e<o&&(e=o),n++,r+=o},get:()=>({min:t,max:e,count:n,sum:r,mean:r/n}),getRange:()=>({min:t,max:e})}},fastComputeRange:pn,getDataType:yn,getMaxNorm:function(t){const e=t.getNumberOfComponents();let n=0;const r=new Array(e);for(let o=0;o<t.getNumberOfTuples();++o){t.getTuple(o,r);const i=Vt(r,e);i>n&&(n=i)}return n}},mn={name:"",numberOfComponents:1,dataType:fn,rangeTuple:[0,0]};function vn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(e,mn,n),!e.empty&&!e.values&&!e.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");if(e.values?Array.isArray(e.values)&&(e.values=G(e.dataType,e.values)):e.values=H(e.dataType,e.size),e.values&&(e.size=e.size??e.values.length,e.dataType=yn(e.values)),nt(t,e),st(t,e,["name","numberOfComponents"]),e.size%e.numberOfComponents!=0)throw new RangeError("model.size is not a multiple of model.numberOfComponents");!function(t,e){function n(n){if(n<0)return!1;const r=t.getNumberOfComponents(),o=e.values.length/(r>0?r:1);if(n===o)return!0;if(n>o){const t=e.values;return e.values=H(e.dataType,(n+o)*r),e.values.set(t),!0}return e.size>n*r&&(e.size=n*r,t.dataChange()),!0}e.classHierarchy.push("vtkDataArray"),t.dataChange=()=>{e.ranges=null,t.modified()},t.resize=r=>{n(r);const o=r*t.getNumberOfComponents();return e.size!==o&&(e.size=o,t.dataChange(),!0)},t.initialize=()=>{t.resize(0)},t.getElementComponentSize=()=>e.values.BYTES_PER_ELEMENT,t.getComponent=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.values[t*e.numberOfComponents+n]},t.setComponent=(n,r,o)=>{o!==e.values[n*e.numberOfComponents+r]&&(e.values[n*e.numberOfComponents+r]=o,t.dataChange())},t.getValue=n=>{const r=n/e.numberOfComponents,o=n%e.numberOfComponents;return t.getComponent(r,o)},t.setValue=(n,r)=>{const o=n/e.numberOfComponents,i=n%e.numberOfComponents;t.setComponent(o,i,r)},t.getData=()=>e.size===e.values.length?e.values:e.values.subarray(0,e.size),t.getRange=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=n;r<0&&(r=1===e.numberOfComponents?0:e.numberOfComponents);let o=null;return e.ranges||(e.ranges=gn(e.ranges,e.numberOfComponents)),o=e.ranges[r],o?(e.rangeTuple[0]=o.min,e.rangeTuple[1]=o.max,e.rangeTuple):(o=dn(t.getData(),n,e.numberOfComponents),e.ranges[r]=o,e.rangeTuple[0]=o.min,e.rangeTuple[1]=o.max,e.rangeTuple)},t.setRange=(t,n)=>{e.ranges||(e.ranges=gn(e.ranges,e.numberOfComponents));const r={min:t.min,max:t.max};return e.ranges[n]=r,e.rangeTuple[0]=r.min,e.rangeTuple[1]=r.max,e.rangeTuple},t.setTuple=(t,n)=>{const r=t*e.numberOfComponents;for(let t=0;t<e.numberOfComponents;t++)e.values[r+t]=n[t]},t.setTuples=(t,n)=>{let r=t*e.numberOfComponents;const o=Math.min(n.length,e.size-r);for(let t=0;t<o;)e.values[r++]=n[t++]},t.insertTuple=(r,o)=>(e.size<=r*e.numberOfComponents&&(e.size=(r+1)*e.numberOfComponents,n(r+1)),t.setTuple(r,o),r),t.insertTuples=(r,o)=>{const i=r+o.length/e.numberOfComponents;return e.size<i*e.numberOfComponents&&(e.size=i*e.numberOfComponents,n(i)),t.setTuples(r,o),i},t.insertNextTuple=n=>{const r=e.size/e.numberOfComponents;return t.insertTuple(r,n)},t.insertNextTuples=n=>{const r=e.size/e.numberOfComponents;return t.insertTuples(r,n)},t.findTuple=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-6;for(let r=0;r<e.size;r+=e.numberOfComponents)if(Math.abs(t[0]-e.values[r])<=n){let o=!0;for(let i=1;i<e.numberOfComponents;++i)if(Math.abs(t[i]-e.values[r+i])>n){o=!1;break}if(o)return r/e.numberOfComponents}return-1},t.getTuple=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.numberOfComponents||1,o=t*r;switch(r){case 4:n[3]=e.values[o+3];case 3:n[2]=e.values[o+2];case 2:n[1]=e.values[o+1];case 1:n[0]=e.values[o];break;default:for(let t=r-1;t>=0;--t)n[t]=e.values[o+t]}return n},t.getTuples=(n,r)=>{const o=(n??0)*e.numberOfComponents,i=(r??t.getNumberOfTuples())*e.numberOfComponents,a=t.getData().subarray(o,i);return a.length>0?a:null},t.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*e.numberOfComponents},t.getNumberOfComponents=()=>e.numberOfComponents,t.getNumberOfValues=()=>e.size,t.getNumberOfTuples=()=>e.size/e.numberOfComponents,t.getDataType=()=>e.dataType,t.newClone=()=>bn({empty:!0,name:e.name,dataType:e.dataType,numberOfComponents:e.numberOfComponents}),t.getName=()=>(e.name||(t.modified(),e.name=`vtkDataArray${t.getMTime()}`),e.name),t.setData=(n,r)=>{e.values=n,e.size=n.length,e.dataType=yn(n),r&&(e.numberOfComponents=r),e.size%e.numberOfComponents!=0&&(e.numberOfComponents=1),t.dataChange()},t.getState=()=>{if(e.deleted)return null;const n={...e,vtkClass:t.getClassName()};n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach((t=>{n[t]||delete n[t]}));const r={};return Object.keys(n).sort().forEach((t=>{r[t]=n[t]})),r.mtime&&delete r.mtime,r},t.deepCopy=n=>{const r=t.getDataType(),o=e.values;t.shallowCopy(n),o?.length>=n.getNumberOfValues()&&r===n.getDataType()?(o.set(n.getData()),e.values=o,t.dataChange()):t.setData(n.getData().slice())},t.interpolateTuple=(n,r,o,i,a,s)=>{const u=e.numberOfComponents||1;u===r.getNumberOfComponents()&&u===i.getNumberOfComponents()||cn("numberOfComponents must match");const l=r.getTuple(o),c=i.getTuple(a),f=[];switch(f.length=u,u){case 4:f[3]=l[3]+(c[3]-l[3])*s;case 3:f[2]=l[2]+(c[2]-l[2])*s;case 2:f[1]=l[1]+(c[1]-l[1])*s;case 1:f[0]=l[0]+(c[0]-l[0])*s;break;default:for(let t=0;t<u;t++)f[t]=l[t]+(c[t]-l[t])*s}return t.insertTuple(n,f)}}(t,e)}const bn=ht(vn,"vtkDataArray");var An={newInstance:bn,extend:vn,...hn,...ln};const{vtkErrorMacro:wn,vtkWarningMacro:In}=St,xn={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1};function Cn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,xn,n),St.obj(t,e),function(t,e){e.classHierarchy.push("vtkFieldData");const n=t.getState;e.arrays&&(e.arrays=e.arrays.map((t=>({data:S(t.data)})))),t.initialize=()=>{t.initializeFields(),t.copyAllOn(),t.clearFieldFlags()},t.initializeFields=()=>{e.arrays=[],e.copyFieldFlags={},t.modified()},t.copyStructure=n=>{t.initializeFields(),e.copyFieldFlags=n.getCopyFieldFlags().map((t=>t)),e.arrays=n.arrays().map((t=>({array:t})))},t.getNumberOfArrays=()=>e.arrays.length,t.getNumberOfActiveArrays=()=>e.arrays.length,t.addArray=n=>{const r=n.getName(),{array:o,index:i}=t.getArrayWithIndex(r);return null!=o?(e.arrays[i]={data:n},i):(e.arrays=[].concat(e.arrays,{data:n}),e.arrays.length-1)},t.removeAllArrays=()=>{e.arrays=[]},t.removeArray=n=>{const r=e.arrays.findIndex((t=>t.data.getName()===n));return t.removeArrayByIndex(r)},t.removeArrayByIndex=t=>-1!==t&&t<e.arrays.length&&(e.arrays.splice(t,1),!0),t.getArrays=()=>e.arrays.map((t=>t.data)),t.getArray=e=>"number"==typeof e?t.getArrayByIndex(e):t.getArrayByName(e),t.getArrayByName=t=>e.arrays.reduce(((e,n,r)=>n.data.getName()===t?n.data:e),null),t.getArrayWithIndex=t=>{const n=e.arrays.findIndex((e=>e.data.getName()===t));return{array:-1!==n?e.arrays[n].data:null,index:n}},t.getArrayByIndex=t=>t>=0&&t<e.arrays.length?e.arrays[t].data:null,t.hasArray=e=>t.getArrayWithIndex(e).index>=0,t.getArrayName=t=>{const n=e.arrays[t];return n?n.data.getName():""},t.getCopyFieldFlags=()=>e.copyFieldFlags,t.getFlag=t=>e.copyFieldFlags[t],t.passData=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach((i=>{const a=t.getFlag(i.getName());if(!1!==a&&(!e.doCopyAllOff||!0===a)&&i){let e=t.getArrayByName(i.getName());if(e)if(i.getNumberOfComponents()===e.getNumberOfComponents())if(r>-1&&r<i.getNumberOfTuples()){const t=o>-1?o:r;e.insertTuple(t,i.getTuple(r))}else e.insertTuples(0,i.getTuples());else wn("Unhandled case in passData");else if(r<0||r>i.getNumberOfTuples())t.addArray(i),n.getAttributes(i).forEach((e=>{t.setAttribute(i,e)}));else{const a=i.getNumberOfComponents();let s=i.getNumberOfValues();const u=o>-1?o:r;s<=u*a&&(s=(u+1)*a),e=An.newInstance({name:i.getName(),dataType:i.getDataType(),numberOfComponents:a,values:St.newTypedArray(i.getDataType(),s),size:0}),e.insertTuple(u,i.getTuple(r)),t.addArray(e),n.getAttributes(i).forEach((n=>{t.setAttribute(e,n)}))}}}))},t.interpolateData=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;n.getArrays().forEach((s=>{const u=t.getFlag(s.getName());if(!1!==u&&(!e.doCopyAllOff||!0===u)&&s){let e=t.getArrayByName(s.getName());if(e)if(s.getNumberOfComponents()===e.getNumberOfComponents())if(r>-1&&r<s.getNumberOfTuples()){const t=i>-1?i:r;e.interpolateTuple(t,s,r,s,o,a),In("Unexpected case in interpolateData")}else e.insertTuples(s.getTuples());else wn("Unhandled case in interpolateData");else if(r<0||o<0||r>s.getNumberOfTuples())t.addArray(s),n.getAttributes(s).forEach((e=>{t.setAttribute(s,e)}));else{const u=s.getNumberOfComponents();let l=s.getNumberOfValues();const c=i>-1?i:r;l<=c*u&&(l=(c+1)*u),e=An.newInstance({name:s.getName(),dataType:s.getDataType(),numberOfComponents:u,values:St.newTypedArray(s.getDataType(),l),size:0}),e.interpolateTuple(c,s,r,s,o,a),t.addArray(e),n.getAttributes(s).forEach((n=>{t.setAttribute(e,n)}))}}}))},t.copyFieldOn=t=>{e.copyFieldFlags[t]=!0},t.copyFieldOff=t=>{e.copyFieldFlags[t]=!1},t.copyAllOn=()=>{e.doCopyAllOn&&!e.doCopyAllOff||(e.doCopyAllOn=!0,e.doCopyAllOff=!1,t.modified())},t.copyAllOff=()=>{!e.doCopyAllOn&&e.doCopyAllOff||(e.doCopyAllOn=!1,e.doCopyAllOff=!0,t.modified())},t.clearFieldFlags=()=>{e.copyFieldFlags={}},t.deepCopy=t=>{e.arrays=t.getArrays().map((t=>{const e=t.newClone();return e.deepCopy(t),{data:e}}))},t.copyFlags=t=>t.getCopyFieldFlags().map((t=>t)),t.reset=()=>e.arrays.forEach((t=>t.data.reset())),t.getMTime=()=>e.arrays.reduce(((t,e)=>e.data.getMTime()>t?e.data.getMTime():t),e.mtime),t.getNumberOfComponents=()=>e.arrays.reduce(((t,e)=>t+e.data.getNumberOfComponents()),0),t.getNumberOfTuples=()=>e.arrays.length>0?e.arrays[0].getNumberOfTuples():0,t.getState=()=>{const t=n();return t&&(t.arrays=e.arrays.map((t=>({data:t.data.getState()})))),t}}(t,e)}var On={newInstance:St.newInstance(Cn,"vtkFieldData"),extend:Cn},Pn={AttributeCopyOperations:{COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},AttributeLimitTypes:{MAX:0,EXACT:1,NOLIMIT:2},AttributeTypes:{SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},CellGhostTypes:{DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},DesiredOutputPrecision:{DEFAULT:0,SINGLE:1,DOUBLE:2},PointGhostTypes:{DUPLICATEPOINT:1,HIDDENPOINT:2},ghostArrayName:"vtkGhostType"};const{AttributeTypes:Tn,AttributeCopyOperations:En}=Pn,{vtkWarningMacro:Sn}=St,kn={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1};function Nn(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,kn,n),On.extend(t,e,n),St.setGet(t,e,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),e.arrays||(e.arrays={}),function(t,e){const n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];function r(t){let e=n.find((e=>Tn[e.toUpperCase()]===t||"number"!=typeof t&&e.toLowerCase()===t.toLowerCase()));return void 0===e&&(e=null),e}e.classHierarchy.push("vtkDataSetAttributes");const o={...t};t.checkNumberOfComponents=t=>!0,t.setAttribute=(n,o)=>{const i=r(o);if(n&&"PEDIGREEIDS"===i.toUpperCase()&&!n.isA("vtkDataArray"))return Sn(`Cannot set attribute ${i}. The attribute must be a vtkDataArray.`),-1;if(n&&!t.checkNumberOfComponents(n,i))return Sn(`Cannot set attribute ${i}. Incorrect number of components.`),-1;let a=e[`active${i}`];if(a>=0&&a<e.arrays.length){if(e.arrays[a]===n)return a;t.removeArrayByIndex(a)}return n?(a=t.addArray(n),e[`active${i}`]=a):e[`active${i}`]=-1,t.modified(),e[`active${i}`]},t.getAttributes=e=>n.filter((n=>t[`get${n}`]()===e)),t.setActiveAttributeByName=(e,n)=>t.setActiveAttributeByIndex(t.getArrayWithIndex(e).index,n),t.setActiveAttributeByIndex=(n,o)=>{const i=r(o);if(n>=0&&n<e.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){const e=t.getArrayByIndex(n);if(!e.isA("vtkDataArray"))return Sn(`Cannot set attribute ${i}. Only vtkDataArray subclasses can be set as active attributes.`),-1;if(!t.checkNumberOfComponents(e,i))return Sn(`Cannot set attribute ${i}. Incorrect number of components.`),-1}return e[`active${i}`]=n,t.modified(),n}return-1===n&&(e[`active${i}`]=n,t.modified()),-1},t.getActiveAttribute=e=>{const n=r(e);return t[`get${n}`]()},t.removeAllArrays=()=>{n.forEach((t=>{e[`active${t}`]=-1})),o.removeAllArrays()},t.removeArrayByIndex=t=>(-1!==t&&n.forEach((n=>{t===e[`active${n}`]?e[`active${n}`]=-1:t<e[`active${n}`]&&(e[`active${n}`]-=1)})),o.removeArrayByIndex(t)),n.forEach((n=>{const r=`active${n}`;t[`get${n}`]=()=>t.getArrayByIndex(e[r]),t[`set${n}`]=e=>t.setAttribute(e,n),t[`setActive${n}`]=e=>t.setActiveAttributeByIndex(t.getArrayWithIndex(e).index,n),t[`copy${n}Off`]=()=>{const t=n.toUpperCase();e.copyAttributeFlags[En.PASSDATA][Tn[t]]=!1},t[`copy${n}On`]=()=>{const t=n.toUpperCase();e.copyAttributeFlags[En.PASSDATA][Tn[t]]=!0}})),t.initializeAttributeCopyFlags=()=>{e.copyAttributeFlags=[],Object.keys(En).filter((t=>"ALLCOPY"!==t)).forEach((t=>{e.copyAttributeFlags[En[t]]=Object.keys(Tn).filter((t=>"NUM_ATTRIBUTES"!==t)).reduce(((t,e)=>(t[Tn[e]]=!0,t)),[])})),e.copyAttributeFlags[En.COPYTUPLE][Tn.GLOBALIDS]=!1,e.copyAttributeFlags[En.INTERPOLATE][Tn.GLOBALIDS]=!1,e.copyAttributeFlags[En.COPYTUPLE][Tn.PEDIGREEIDS]=!1},t.initialize=St.chain(t.initialize,t.initializeAttributeCopyFlags),e.dataArrays&&Object.keys(e.dataArrays).length&&Object.keys(e.dataArrays).forEach((n=>{e.dataArrays[n].ref||"vtkDataArray"!==e.dataArrays[n].type||t.addArray(An.newInstance(e.dataArrays[n]))}));const i=t.shallowCopy;t.shallowCopy=(t,n)=>{i(t,n),e.arrays=t.getArrays().map((t=>{const e=t.newClone();return e.shallowCopy(t,n),{data:e}}))},t.initializeAttributeCopyFlags()}(t,e)}var Dn={newInstance:St.newInstance(Nn,"vtkDataSetAttributes"),extend:Nn,...Pn};const _n=["pointData","cellData","fieldData"],Mn={};function Ln(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Mn,n),St.obj(t,e),St.setGet(t,e,_n),function(t,e){e.classHierarchy.push("vtkDataSet"),_n.forEach((t=>{e[t]?e[t]=S(e[t]):e[t]=Dn.newInstance()}));const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),_n.forEach((n=>{e[n]=Dn.newInstance(),e[n].shallowCopy(t.getReferenceByName(n))}))}}(t,e)}var jn={newInstance:St.newInstance(Ln,"vtkDataSet"),extend:Ln,FieldDataTypes:{UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},FieldAssociations:{FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7}};const Fn={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};var Rn={StructuredType:Fn};const{StructuredType:Un}=Rn;var zn={getDataDescriptionFromExtent:function(t){let e=0;for(let n=0;n<3;++n)t[2*n]<t[2*n+1]&&e++;return t[0]>t[1]||t[2]>t[3]||t[4]>t[5]?Un.EMPTY:3===e?Un.XYZ_GRID:2===e?t[0]===t[1]?Un.YZ_PLANE:t[2]===t[3]?Un.XZ_PLANE:Un.XY_PLANE:1===e?t[0]<t[1]?Un.X_LINE:t[2]<t[3]?Un.Y_LINE:Un.Z_LINE:Un.SINGLE_POINT},...Rn};const{vtkErrorMacro:Wn}=St,Bn={direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:Fn.EMPTY};function $n(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;Object.assign(e,Bn,n),jn.extend(t,e,n),e.direction?Array.isArray(e.direction)&&(e.direction=new Float64Array(e.direction.slice(0,9))):e.direction=((r=new Float64Array(9))[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r),e.indexToWorld=new Float64Array(16),e.worldToIndex=new Float64Array(16),St.get(t,e,["indexToWorld","worldToIndex"]),St.setGetArray(t,e,["origin","spacing"],3),St.setGetArray(t,e,["direction"],9),St.getArray(t,e,["extent"],6),function(t,e){e.classHierarchy.push("vtkImageData"),t.setExtent=function(){if(e.deleted)return Wn("instance deleted - cannot call any method"),!1;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const i=1===r.length?r[0]:r;if(6!==i.length)return!1;const a=e.extent.some(((t,e)=>t!==i[e]));return a&&(e.extent=i.slice(),e.dataDescription=zn.getDataDescriptionFromExtent(e.extent),t.modified()),a},t.setDimensions=function(){let n,r,o;if(e.deleted)Wn("instance deleted - cannot call any method");else{if(1===arguments.length){const t=arguments.length<=0?void 0:arguments[0];n=t[0],r=t[1],o=t[2]}else{if(3!==arguments.length)return void Wn("Bad dimension specification");n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],o=arguments.length<=2?void 0:arguments[2]}t.setExtent(0,n-1,0,r-1,0,o-1)}},t.getDimensions=()=>[e.extent[1]-e.extent[0]+1,e.extent[3]-e.extent[2]+1,e.extent[5]-e.extent[4]+1],t.getNumberOfCells=()=>{const e=t.getDimensions();let n=1;for(let t=0;t<3;t++){if(0===e[t])return 0;e[t]>1&&(n*=e[t]-1)}return n},t.getNumberOfPoints=()=>{const e=t.getDimensions();return e[0]*e[1]*e[2]},t.getPoint=n=>{const r=t.getDimensions();if(0===r[0]||0===r[1]||0===r[2])return Wn("Requesting a point from an empty image."),null;const o=new Float64Array(3);switch(e.dataDescription){case Fn.EMPTY:return null;case Fn.SINGLE_POINT:break;case Fn.X_LINE:o[0]=n;break;case Fn.Y_LINE:o[1]=n;break;case Fn.Z_LINE:o[2]=n;break;case Fn.XY_PLANE:o[0]=n%r[0],o[1]=n/r[0];break;case Fn.YZ_PLANE:o[1]=n%r[1],o[2]=n/r[1];break;case Fn.XZ_PLANE:o[0]=n%r[0],o[2]=n/r[0];break;case Fn.XYZ_GRID:o[0]=n%r[0],o[1]=n/r[0]%r[1],o[2]=n/(r[0]*r[1]);break;default:Wn("Invalid dataDescription")}const i=[0,0,0];return t.indexToWorld(o,i),i},t.getBounds=()=>t.extentToBounds(t.getSpatialExtent()),t.extentToBounds=t=>sn.transformBounds(t,e.indexToWorld),t.getSpatialExtent=()=>sn.inflate([...e.extent],.5),t.computeTransforms=()=>{var t,n;t=e.indexToWorld,n=e.origin,t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,e.indexToWorld[0]=e.direction[0],e.indexToWorld[1]=e.direction[1],e.indexToWorld[2]=e.direction[2],e.indexToWorld[4]=e.direction[3],e.indexToWorld[5]=e.direction[4],e.indexToWorld[6]=e.direction[5],e.indexToWorld[8]=e.direction[6],e.indexToWorld[9]=e.direction[7],e.indexToWorld[10]=e.direction[8],function(t,e,n){var r=n[0],o=n[1],i=n[2];t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(e.indexToWorld,e.indexToWorld,e.spacing),function(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],p=e[10],d=e[11],g=e[12],y=e[13],h=e[14],m=e[15],v=n*s-r*a,b=n*u-o*a,A=n*l-i*a,w=r*u-o*s,I=r*l-i*s,x=o*l-i*u,C=c*y-f*g,O=c*h-p*g,P=c*m-d*g,T=f*h-p*y,E=f*m-d*y,S=p*m-d*h,k=v*S-b*E+A*T+w*P-I*O+x*C;k&&(k=1/k,t[0]=(s*S-u*E+l*T)*k,t[1]=(o*E-r*S-i*T)*k,t[2]=(y*x-h*I+m*w)*k,t[3]=(p*I-f*x-d*w)*k,t[4]=(u*P-a*S-l*O)*k,t[5]=(n*S-o*P+i*O)*k,t[6]=(h*A-g*x-m*b)*k,t[7]=(c*x-p*A+d*b)*k,t[8]=(a*E-s*P+l*C)*k,t[9]=(r*P-n*E-i*C)*k,t[10]=(g*I-y*A+m*v)*k,t[11]=(f*A-c*I-d*v)*k,t[12]=(s*O-a*T-u*C)*k,t[13]=(n*T-r*O+o*C)*k,t[14]=(y*b-g*w-h*v)*k,t[15]=(c*w-f*b+p*v)*k)}(e.worldToIndex,e.indexToWorld)},t.indexToWorld=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ue(n,t,e.indexToWorld),n},t.indexToWorldVec3=t.indexToWorld,t.worldToIndex=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ue(n,t,e.worldToIndex),n},t.worldToIndexVec3=t.worldToIndex,t.indexToWorldBounds=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn.transformBounds(t,e.indexToWorld,n)},t.worldToIndexBounds=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return sn.transformBounds(t,e.worldToIndex,n)},t.onModified(t.computeTransforms),t.computeTransforms(),t.getCenter=()=>sn.getCenter(t.getBounds()),t.computeHistogram=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=[0,0,0,0,0,0];t.worldToIndexBounds(e,r);const o=[0,0,0],i=[0,0,0];sn.computeCornerPoints(r,o,i),Xt(o,o),Xt(i,i);const a=t.getDimensions();qt(o,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],o),qt(i,[0,0,0],[a[0]-1,a[1]-1,a[2]-1],i);const s=a[0],u=a[0]*a[1],l=t.getPointData().getScalars().getData();let c=-1/0,f=1/0,p=0,d=0,g=0;for(let t=o[2];t<=i[2];t++)for(let e=o[1];e<=i[1];e++){let a=o[0]+e*s+t*u;for(let s=o[0];s<=i[0];s++){if(!n||n([s,e,t],r)){const t=l[a];t>c&&(c=t),t<f&&(f=t),p+=t*t,d+=t,g+=1}++a}}const y=g>0?d/g:0,h=g?Math.abs(p/g-y*y):0;return{minimum:f,maximum:c,average:y,variance:h,sigma:Math.sqrt(h),count:g}},t.computeIncrements=function(t){const e=[];let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(let r=0;r<3;++r)e[r]=n,n*=t[2*r+1]-t[2*r]+1;return e},t.computeOffsetIndex=e=>{let[n,r,o]=e;const i=t.getExtent(),a=t.getPointData().getScalars().getNumberOfComponents(),s=t.computeIncrements(i,a);return Math.floor((Math.round(n)-i[0])*s[0]+(Math.round(r)-i[2])*s[1]+(Math.round(o)-i[4])*s[2])},t.getOffsetIndexFromWorld=e=>{const n=t.getExtent(),r=t.worldToIndex(e);for(let t=0;t<3;++t)if(r[t]<n[2*t]||r[t]>n[2*t+1])return Wn(`GetScalarPointer: Pixel ${r} is not in memory. Current extent = ${n}`),NaN;return t.computeOffsetIndex(r)},t.getScalarValueFromWorld=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=t.getPointData().getScalars().getNumberOfComponents();if(n<0||n>=r)return Wn(`GetScalarPointer: Scalar Component ${n} is not within bounds. Current Scalar numberOfComponents: ${r}`),NaN;const o=t.getOffsetIndexFromWorld(e);return Number.isNaN(o)?o:t.getPointData().getScalars().getComponent(o,n)}}(t,e)}var Vn,Hn={newInstance:St.newInstance($n,"vtkImageData"),extend:$n},Gn=(Vn="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var e,n,r=void 0!==(t=t||{})?t:{};r.ready=new Promise((function(t,r){e=t,n=r}));var o=Object.assign({},r),i=[],a="./this.program",s=(t,e)=>{throw e},u="";"undefined"!=typeof document&&document.currentScript&&(u=document.currentScript.src),Vn&&(u=Vn),u=0!==u.indexOf("blob:")?u.substr(0,u.replace(/[?#].*/,"").lastIndexOf("/")+1):"";var l,c=r.print||console.log.bind(console),f=r.printErr||console.warn.bind(console);Object.assign(r,o),o=null,r.arguments&&(i=r.arguments),r.thisProgram&&(a=r.thisProgram),r.quit&&(s=r.quit),r.wasmBinary&&(l=r.wasmBinary);var p,d=r.noExitRuntime||!0;"object"!=typeof WebAssembly&&W("no native wasm support detected");var g,y,h,m,v,b,A,w,I,x,C=!1,O="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function P(t,e,n){for(var r=e+n,o=e;t[o]&&!(o>=r);)++o;if(o-e>16&&t.buffer&&O)return O.decode(t.subarray(e,o));for(var i="";e<o;){var a=t[e++];if(128&a){var s=63&t[e++];if(192!=(224&a)){var u=63&t[e++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&t[e++])<65536)i+=String.fromCharCode(a);else{var l=a-65536;i+=String.fromCharCode(55296|l>>10,56320|1023&l)}}else i+=String.fromCharCode((31&a)<<6|s)}else i+=String.fromCharCode(a)}return i}function T(t,e){return t?P(m,t,e):""}function E(t,e,n,r){if(!(r>0))return 0;for(var o=n,i=n+r-1,a=0;a<t.length;++a){var s=t.charCodeAt(a);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++a)),s<=127){if(n>=i)break;e[n++]=s}else if(s<=2047){if(n+1>=i)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=i)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}return e[n]=0,n-o}function S(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r<=127?e++:r<=2047?e+=2:r>=55296&&r<=57343?(e+=4,++n):e+=3}return e}function k(t){y=t,r.HEAP8=h=new Int8Array(t),r.HEAP16=v=new Int16Array(t),r.HEAP32=A=new Int32Array(t),r.HEAPU8=m=new Uint8Array(t),r.HEAPU16=b=new Uint16Array(t),r.HEAPU32=w=new Uint32Array(t),r.HEAPF32=I=new Float32Array(t),r.HEAPF64=x=new Float64Array(t)}r.INITIAL_MEMORY;var N,D,_,M=[],L=[],j=[],F=[],R=0,U=null,z=null;function W(t){r.onAbort&&r.onAbort(t),f(t="Aborted("+t+")"),C=!0,g=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw n(e),e}function B(t){return t.startsWith("data:application/octet-stream;base64,")}function $(t){try{if(t==D&&l)return new Uint8Array(l);throw"both async and sync fetching of the wasm failed"}catch(t){W(t)}}B(D="ICRPolySeg.wasm")||(_=D,D=r.locateFile?r.locateFile(_,u):u+_);var V={638383:t=>{r.updateProgress&&r.updateProgress(t)}};function H(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function G(t){for(;t.length>0;)t.shift()(r)}function Y(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){w[this.ptr+4>>2]=t},this.get_type=function(){return w[this.ptr+4>>2]},this.set_destructor=function(t){w[this.ptr+8>>2]=t},this.get_destructor=function(){return w[this.ptr+8>>2]},this.set_refcount=function(t){A[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,h[this.ptr+12|0]=t},this.get_caught=function(){return 0!=h[this.ptr+12|0]},this.set_rethrown=function(t){t=t?1:0,h[this.ptr+13|0]=t},this.get_rethrown=function(){return 0!=h[this.ptr+13|0]},this.init=function(t,e){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(e),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=A[this.ptr>>2];A[this.ptr>>2]=t+1},this.release_ref=function(){var t=A[this.ptr>>2];return A[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){w[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return w[this.ptr+16>>2]},this.get_exception_ptr=function(){if(te(this.get_type()))return w[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}var X={varargs:void 0,get:function(){return X.varargs+=4,A[X.varargs-4>>2]},getStr:function(t){return T(t)}},J={};function K(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function q(t){return this.fromWireType(A[t>>2])}var Q={},Z={},tt={};function et(t){if(void 0===t)return"_unknown";var e=(t=t.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return e>=48&&e<=57?"_"+t:t}function nt(t,e){return t=et(t),new Function("body","return function "+t+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(e)}function rt(t,e){var n=nt(e,(function(t){this.name=e,this.message=t;var n=new Error(t).stack;void 0!==n&&(this.stack=this.toString()+"\n"+n.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ot=void 0;function it(t){throw new ot(t)}function at(t,e,n){function r(e){var r=n(e);r.length!==t.length&&it("Mismatched type converter count");for(var o=0;o<t.length;++o)pt(t[o],r[o])}t.forEach((function(t){tt[t]=e}));var o=new Array(e.length),i=[],a=0;e.forEach(((t,e)=>{Z.hasOwnProperty(t)?o[e]=Z[t]:(i.push(t),Q.hasOwnProperty(t)||(Q[t]=[]),Q[t].push((()=>{o[e]=Z[t],++a===i.length&&r(o)})))})),0===i.length&&r(o)}function st(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}var ut=void 0;function lt(t){for(var e="",n=t;m[n];)e+=ut[m[n++]];return e}var ct=void 0;function ft(t){throw new ct(t)}function pt(t,e,n={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=e.name;if(t||ft('type "'+r+'" must have a positive integer typeid pointer'),Z.hasOwnProperty(t)){if(n.ignoreDuplicateRegistrations)return;ft("Cannot register type '"+r+"' twice")}if(Z[t]=e,delete tt[t],Q.hasOwnProperty(t)){var o=Q[t];delete Q[t],o.forEach((t=>t()))}}var dt=[],gt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function yt(t){t>4&&0==--gt[t].refcount&&(gt[t]=void 0,dt.push(t))}var ht=t=>(t||ft("Cannot use deleted val. handle = "+t),gt[t].value),mt=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=dt.length?dt.pop():gt.length;return gt[e]={refcount:1,value:t},e}};function vt(t,e){switch(e){case 2:return function(t){return this.fromWireType(I[t>>2])};case 3:return function(t){return this.fromWireType(x[t>>3])};default:throw new TypeError("Unknown float type: "+t)}}function bt(t,e){if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=nt(t.name||"unknownFunctionName",(function(){}));n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return o instanceof Object?o:r}var At=[];function wt(t){var e=At[t];return e||(t>=At.length&&(At.length=t+1),At[t]=e=N.get(t)),e}function It(t,e){var n,o,i,a=(t=lt(t)).includes("j")?(n=t,o=e,i=[],function(){return i.length=0,Object.assign(i,arguments),function(t,e,n){return t.includes("j")?function(t,e,n){var o=r["dynCall_"+t];return n&&n.length?o.apply(null,[e].concat(n)):o.call(null,e)}(t,e,n):wt(e).apply(null,n)}(n,o,i)}):wt(e);return"function"!=typeof a&&ft("unknown function pointer with signature "+t+": "+e),a}var xt=void 0;function Ct(t){var e=Zt(t),n=lt(e);return Qt(e),n}function Ot(t,e,n){switch(e){case 0:return n?function(t){return h[t]}:function(t){return m[t]};case 1:return n?function(t){return v[t>>1]}:function(t){return b[t>>1]};case 2:return n?function(t){return A[t>>2]}:function(t){return w[t>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var Pt="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function Tt(t,e){for(var n=t,r=n>>1,o=r+e/2;!(r>=o)&&b[r];)++r;if((n=r<<1)-t>32&&Pt)return Pt.decode(m.subarray(t,n));for(var i="",a=0;!(a>=e/2);++a){var s=v[t+2*a>>1];if(0==s)break;i+=String.fromCharCode(s)}return i}function Et(t,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=e,o=(n-=2)<2*t.length?n/2:t.length,i=0;i<o;++i){var a=t.charCodeAt(i);v[e>>1]=a,e+=2}return v[e>>1]=0,e-r}function St(t){return 2*t.length}function kt(t,e){for(var n=0,r="";!(n>=e/4);){var o=A[t+4*n>>2];if(0==o)break;if(++n,o>=65536){var i=o-65536;r+=String.fromCharCode(55296|i>>10,56320|1023&i)}else r+=String.fromCharCode(o)}return r}function Nt(t,e,n){if(void 0===n&&(n=2147483647),n<4)return 0;for(var r=e,o=r+n-4,i=0;i<t.length;++i){var a=t.charCodeAt(i);if(a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++i)),A[e>>2]=a,(e+=4)+4>o)break}return A[e>>2]=0,e-r}function Dt(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&++n,e+=4}return e}function _t(t,e){var n=Z[t];return void 0===n&&ft(e+" has unknown type "+Ct(t)),n}var Mt={};function Lt(t){var e=Mt[t];return void 0===e?lt(t):e}var jt=[];function Ft(){return"object"==typeof globalThis?globalThis:Function("return this")()}var Rt=[],Ut={},zt=[];function Wt(t){try{return p.grow(t-y.byteLength+65535>>>16),k(p.buffer),1}catch(t){}}var Bt={};function $t(){if(!$t.strings){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:a||"./this.program"};for(var e in Bt)void 0===Bt[e]?delete t[e]:t[e]=Bt[e];var n=[];for(var e in t)n.push(e+"="+t[e]);$t.strings=n}return $t.strings}var Vt=[null,[],[]];function Ht(t,e){var n=Vt[t];0===e||10===e?((1===t?c:f)(P(n,0)),n.length=0):n.push(e)}function Gt(t){return t%4==0&&(t%100!=0||t%400==0)}var Yt=[31,29,31,30,31,30,31,31,30,31,30,31],Xt=[31,28,31,30,31,30,31,31,30,31,30,31];ot=r.InternalError=rt(Error,"InternalError"),function(){for(var t=new Array(256),e=0;e<256;++e)t[e]=String.fromCharCode(e);ut=t}(),ct=r.BindingError=rt(Error,"BindingError"),r.count_emval_handles=function(){for(var t=0,e=5;e<gt.length;++e)void 0!==gt[e]&&++t;return t},r.get_first_emval=function(){for(var t=5;t<gt.length;++t)if(void 0!==gt[t])return gt[t];return null},xt=r.UnboundTypeError=rt(Error,"UnboundTypeError");var Jt,Kt={b:function(t,e,n){throw new Y(t).init(e,n),t},J:function(t,e){},F:function(t,e,n){},L:function(t,e,n,r){X.varargs=r},E:function(t,e,n,r){},G:function(t,e){},x:function(t){var e=J[t];delete J[t];var n=e.rawConstructor,r=e.rawDestructor,o=e.fields;at([t],o.map((t=>t.getterReturnType)).concat(o.map((t=>t.setterArgumentType))),(t=>{var i={};return o.forEach(((e,n)=>{var r=e.fieldName,a=t[n],s=e.getter,u=e.getterContext,l=t[n+o.length],c=e.setter,f=e.setterContext;i[r]={read:t=>a.fromWireType(s(u,t)),write:(t,e)=>{var n=[];c(f,t,l.toWireType(n,e)),K(n)}}})),[{name:e.name,fromWireType:function(t){var e={};for(var n in i)e[n]=i[n].read(t);return r(t),e},toWireType:function(t,e){for(var o in i)if(!(o in e))throw new TypeError('Missing field:  "'+o+'"');var a=n();for(o in i)i[o].write(a,e[o]);return null!==t&&t.push(r,a),a},argPackAdvance:8,readValueFromPointer:q,destructorFunction:r}]}))},A:function(t,e,n,r,o){},O:function(t,e,n,r,o){var i=st(n);pt(t,{name:e=lt(e),fromWireType:function(t){return!!t},toWireType:function(t,e){return e?r:o},argPackAdvance:8,readValueFromPointer:function(t){var r;if(1===n)r=h;else if(2===n)r=v;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+e);r=A}return this.fromWireType(r[t>>i])},destructorFunction:null})},N:function(t,e){pt(t,{name:e=lt(e),fromWireType:function(t){var e=ht(t);return yt(t),e},toWireType:function(t,e){return mt(e)},argPackAdvance:8,readValueFromPointer:q,destructorFunction:null})},v:function(t,e,n){var r=st(n);pt(t,{name:e=lt(e),fromWireType:function(t){return t},toWireType:function(t,e){return e},argPackAdvance:8,readValueFromPointer:vt(e,r),destructorFunction:null})},g:function(t,e,n,o,i,a){var s=function(t,e){for(var n=[],r=0;r<t;r++)n.push(w[e+4*r>>2]);return n}(e,n);t=lt(t),i=It(o,i),function(t,e,n){r.hasOwnProperty(t)?((void 0===n||void 0!==r[t].overloadTable&&void 0!==r[t].overloadTable[n])&&ft("Cannot register public name '"+t+"' twice"),function(t,e,n){if(void 0===t[e].overloadTable){var r=t[e];t[e]=function(){return t[e].overloadTable.hasOwnProperty(arguments.length)||ft("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].overloadTable+")!"),t[e].overloadTable[arguments.length].apply(this,arguments)},t[e].overloadTable=[],t[e].overloadTable[r.argCount]=r}}(r,t,t),r.hasOwnProperty(n)&&ft("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),r[t].overloadTable[n]=e):(r[t]=e,void 0!==n&&(r[t].numArguments=n))}(t,(function(){!function(t,e){var n=[],r={};throw e.forEach((function t(e){r[e]||Z[e]||(tt[e]?tt[e].forEach(t):(n.push(e),r[e]=!0))})),new xt(t+": "+n.map(Ct).join([", "]))}("Cannot call "+t+" due to unbound types",s)}),e-1),at([],s,(function(n){var o=[n[0],null].concat(n.slice(1));return function(t,e,n){r.hasOwnProperty(t)||it("Replacing nonexistant public symbol"),void 0!==r[t].overloadTable&&void 0!==n?r[t].overloadTable[n]=e:(r[t]=e,r[t].argCount=n)}(t,function(t,e,n,r,o){var i=e.length;i<2&&ft("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==e[1]&&!1,s=!1,u=1;u<e.length;++u)if(null!==e[u]&&void 0===e[u].destructorFunction){s=!0;break}var l="void"!==e[0].name,c="",f="";for(u=0;u<i-2;++u)c+=(0!==u?", ":"")+"arg"+u,f+=(0!==u?", ":"")+"arg"+u+"Wired";var p="return function "+et(t)+"("+c+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+t+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";s&&(p+="var destructors = [];\n");var d=s?"destructors":"null",g=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[ft,r,o,K,e[0],e[1]];for(a&&(p+="var thisWired = classParam.toWireType("+d+", this);\n"),u=0;u<i-2;++u)p+="var arg"+u+"Wired = argType"+u+".toWireType("+d+", arg"+u+"); // "+e[u+2].name+"\n",g.push("argType"+u),y.push(e[u+2]);if(a&&(f="thisWired"+(f.length>0?", ":"")+f),p+=(l?"var rv = ":"")+"invoker(fn"+(f.length>0?", ":"")+f+");\n",s)p+="runDestructors(destructors);\n";else for(u=a?1:2;u<e.length;++u){var h=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==e[u].destructorFunction&&(p+=h+"_dtor("+h+"); // "+e[u].name+"\n",g.push(h+"_dtor"),y.push(e[u].destructorFunction))}return l&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",g.push(p),bt(Function,g).apply(null,y)}(t,o,0,i,a),e-1),[]}))},d:function(t,e,n,r,o){e=lt(e),-1===o&&(o=4294967295);var i=st(n),a=t=>t;if(0===r){var s=32-8*n;a=t=>t<<s>>>s}var u=e.includes("unsigned");pt(t,{name:e,fromWireType:a,toWireType:u?function(t,e){return this.name,e>>>0}:function(t,e){return this.name,e},argPackAdvance:8,readValueFromPointer:Ot(e,i,0!==r),destructorFunction:null})},c:function(t,e,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];function o(t){var e=w,n=e[t>>=2],o=e[t+1];return new r(y,o,n)}pt(t,{name:n=lt(n),fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})},u:function(t,e){var n="std::string"===(e=lt(e));pt(t,{name:e,fromWireType:function(t){var e,r=w[t>>2],o=t+4;if(n)for(var i=o,a=0;a<=r;++a){var s=o+a;if(a==r||0==m[s]){var u=T(i,s-i);void 0===e?e=u:(e+=String.fromCharCode(0),e+=u),i=s+1}}else{var l=new Array(r);for(a=0;a<r;++a)l[a]=String.fromCharCode(m[o+a]);e=l.join("")}return Qt(t),e},toWireType:function(t,e){var r;e instanceof ArrayBuffer&&(e=new Uint8Array(e));var o="string"==typeof e;o||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int8Array||ft("Cannot pass non-string to std::string"),r=n&&o?S(e):e.length;var i=qt(4+r+1),a=i+4;if(w[i>>2]=r,n&&o)E(e,m,a,r+1);else if(o)for(var s=0;s<r;++s){var u=e.charCodeAt(s);u>255&&(Qt(a),ft("String has UTF-16 code units that do not fit in 8 bits")),m[a+s]=u}else for(s=0;s<r;++s)m[a+s]=e[s];return null!==t&&t.push(Qt,i),i},argPackAdvance:8,readValueFromPointer:q,destructorFunction:function(t){Qt(t)}})},m:function(t,e,n){var r,o,i,a,s;n=lt(n),2===e?(r=Tt,o=Et,a=St,i=()=>b,s=1):4===e&&(r=kt,o=Nt,a=Dt,i=()=>w,s=2),pt(t,{name:n,fromWireType:function(t){for(var n,o=w[t>>2],a=i(),u=t+4,l=0;l<=o;++l){var c=t+4+l*e;if(l==o||0==a[c>>s]){var f=r(u,c-u);void 0===n?n=f:(n+=String.fromCharCode(0),n+=f),u=c+e}}return Qt(t),n},toWireType:function(t,r){"string"!=typeof r&&ft("Cannot pass non-string to C++ string type "+n);var i=a(r),u=qt(4+i+e);return w[u>>2]=i>>s,o(r,u+4,i+e),null!==t&&t.push(Qt,u),u},argPackAdvance:8,readValueFromPointer:q,destructorFunction:function(t){Qt(t)}})},y:function(t,e,n,r,o,i){J[t]={name:lt(e),rawConstructor:It(n,r),rawDestructor:It(o,i),fields:[]}},e:function(t,e,n,r,o,i,a,s,u,l){J[t].fields.push({fieldName:lt(e),getterReturnType:n,getter:It(r,o),getterContext:i,setterArgumentType:a,setter:It(s,u),setterContext:l})},P:function(t,e){pt(t,{isVoid:!0,name:e=lt(e),argPackAdvance:0,fromWireType:function(){},toWireType:function(t,e){}})},r:function(t,e,n){t=ht(t),e=_t(e,"emval::as");var r=[],o=mt(r);return w[n>>2]=o,e.toWireType(r,t)},i:function(t,e,n,r){(t=jt[t])(e=ht(e),n=Lt(n),null,r)},a:yt,p:function(t){return 0===t?mt(Ft()):(t=Lt(t),mt(Ft()[t]))},j:function(t,e){var n=function(t,e){for(var n=new Array(t),r=0;r<t;++r)n[r]=_t(w[e+4*r>>2],"parameter "+r);return n}(t,e),r=n[0],o=r.name+"_$"+n.slice(1).map((function(t){return t.name})).join("_")+"$",i=Rt[o];if(void 0!==i)return i;for(var a=["retType"],s=[r],u="",l=0;l<t-1;++l)u+=(0!==l?", ":"")+"arg"+l,a.push("argType"+l),s.push(n[1+l]);var c,f,p="return function "+et("methodCaller_"+o)+"(handle, name, destructors, args) {\n",d=0;for(l=0;l<t-1;++l)p+="    var arg"+l+" = argType"+l+".readValueFromPointer(args"+(d?"+"+d:"")+");\n",d+=n[l+1].argPackAdvance;for(p+="    var rv = handle[name]("+u+");\n",l=0;l<t-1;++l)n[l+1].deleteObject&&(p+="    argType"+l+".deleteObject(arg"+l+");\n");return r.isVoid||(p+="    return retType.toWireType(destructors, rv);\n"),p+="};\n",a.push(p),c=bt(Function,a).apply(null,s),f=jt.length,jt.push(c),i=f,Rt[o]=i,i},s:function(t,e){return t=ht(t),e=ht(e),mt(t[e])},f:function(t){t>4&&(gt[t].refcount+=1)},o:function(t,e,n,o){t=ht(t);var i=Ut[e];return i||(i=function(t){for(var e="",n=0;n<t;++n)e+=(0!==n?", ":"")+"arg"+n;var o="return function emval_allocator_"+t+"(constructor, argTypes, args) {\n  var HEAPU32 = getMemory();\n";for(n=0;n<t;++n)o+="var argType"+n+" = requireRegisteredType(HEAPU32[((argTypes)>>2)], 'parameter "+n+"');\nvar arg"+n+" = argType"+n+".readValueFromPointer(args);\nargs += argType"+n+"['argPackAdvance'];\nargTypes += 4;\n";return o+="var obj = new constructor("+e+");\nreturn valueToHandle(obj);\n}\n",new Function("requireRegisteredType","Module","valueToHandle","getMemory",o)(_t,r,mt,(()=>w))}(e),Ut[e]=i),i(t,n,o)},w:function(t){return mt(Lt(t))},q:function(t){K(ht(t)),yt(t)},k:function(t,e){var n=(t=_t(t,"_emval_take_value")).readValueFromPointer(e);return mt(n)},n:function(){W("")},h:function(t,e,n){return function(t,e,n){var r=function(t,e){var n;for(zt.length=0,e>>=2;n=m[t++];)e+=105!=n&e,zt.push(105==n?A[e]:x[e++>>1]),++e;return zt}(e,n);return V[t].apply(null,r)}(t,e,n)},D:function(){return 2147483648},M:function(t,e,n){m.copyWithin(t,e,e+n)},C:function(t){var e,n=m.length,r=2147483648;if((t>>>=0)>r)return!1;for(var o=1;o<=4;o*=2){var i=n*(1+.2/o);if(i=Math.min(i,t+100663296),Wt(Math.min(r,(e=Math.max(t,i))+(65536-e%65536)%65536)))return!0}return!1},H:function(t,e){var n=0;return $t().forEach((function(r,o){var i=e+n;w[t+4*o>>2]=i,function(t,e){for(var n=0;n<t.length;++n)h[0|e++]=t.charCodeAt(n);h[0|e]=0}(r,i),n+=r.length+1})),0},I:function(t,e){var n=$t();w[t>>2]=n.length;var r=0;return n.forEach((function(t){r+=t.length+1})),w[e>>2]=r,0},l:function(t){return 52},K:function(t,e,n,r){return 52},z:function(t,e,n,r,o){return 70},t:function(t,e,n,r){for(var o=0,i=0;i<n;i++){var a=w[e>>2],s=w[e+4>>2];e+=8;for(var u=0;u<s;u++)Ht(t,m[a+u]);o+=s}return w[r>>2]=o,0},B:function(t,e,n,r,o){return function(t,e,n,r){var o=A[r+40>>2],i={tm_sec:A[r>>2],tm_min:A[r+4>>2],tm_hour:A[r+8>>2],tm_mday:A[r+12>>2],tm_mon:A[r+16>>2],tm_year:A[r+20>>2],tm_wday:A[r+24>>2],tm_yday:A[r+28>>2],tm_isdst:A[r+32>>2],tm_gmtoff:A[r+36>>2],tm_zone:o?T(o):""},a=T(n),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var u in s)a=a.replace(new RegExp(u,"g"),s[u]);var l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["January","February","March","April","May","June","July","August","September","October","November","December"];function f(t,e,n){for(var r="number"==typeof t?t.toString():t||"";r.length<e;)r=n[0]+r;return r}function p(t,e){return f(t,e,"0")}function d(t,e){function n(t){return t<0?-1:t>0?1:0}var r;return 0===(r=n(t.getFullYear()-e.getFullYear()))&&0===(r=n(t.getMonth()-e.getMonth()))&&(r=n(t.getDate()-e.getDate())),r}function g(t){switch(t.getDay()){case 0:return new Date(t.getFullYear()-1,11,29);case 1:return t;case 2:return new Date(t.getFullYear(),0,3);case 3:return new Date(t.getFullYear(),0,2);case 4:return new Date(t.getFullYear(),0,1);case 5:return new Date(t.getFullYear()-1,11,31);case 6:return new Date(t.getFullYear()-1,11,30)}}function y(t){var e=function(t,e){for(var n=new Date(t.getTime());e>0;){var r=Gt(n.getFullYear()),o=n.getMonth(),i=(r?Yt:Xt)[o];if(!(e>i-n.getDate()))return n.setDate(n.getDate()+e),n;e-=i-n.getDate()+1,n.setDate(1),o<11?n.setMonth(o+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}(new Date(t.tm_year+1900,0,1),t.tm_yday),n=new Date(e.getFullYear(),0,4),r=new Date(e.getFullYear()+1,0,4),o=g(n),i=g(r);return d(o,e)<=0?d(i,e)<=0?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var m={"%a":function(t){return l[t.tm_wday].substring(0,3)},"%A":function(t){return l[t.tm_wday]},"%b":function(t){return c[t.tm_mon].substring(0,3)},"%B":function(t){return c[t.tm_mon]},"%C":function(t){return p((t.tm_year+1900)/100|0,2)},"%d":function(t){return p(t.tm_mday,2)},"%e":function(t){return f(t.tm_mday,2," ")},"%g":function(t){return y(t).toString().substring(2)},"%G":function(t){return y(t)},"%H":function(t){return p(t.tm_hour,2)},"%I":function(t){var e=t.tm_hour;return 0==e?e=12:e>12&&(e-=12),p(e,2)},"%j":function(t){return p(t.tm_mday+function(t,e){for(var n=0,r=0;r<=e;n+=t[r++]);return n}(Gt(t.tm_year+1900)?Yt:Xt,t.tm_mon-1),3)},"%m":function(t){return p(t.tm_mon+1,2)},"%M":function(t){return p(t.tm_min,2)},"%n":function(){return"\n"},"%p":function(t){return t.tm_hour>=0&&t.tm_hour<12?"AM":"PM"},"%S":function(t){return p(t.tm_sec,2)},"%t":function(){return"\t"},"%u":function(t){return t.tm_wday||7},"%U":function(t){var e=t.tm_yday+7-t.tm_wday;return p(Math.floor(e/7),2)},"%V":function(t){var e=Math.floor((t.tm_yday+7-(t.tm_wday+6)%7)/7);if((t.tm_wday+371-t.tm_yday-2)%7<=2&&e++,e){if(53==e){var n=(t.tm_wday+371-t.tm_yday)%7;4==n||3==n&&Gt(t.tm_year)||(e=1)}}else{e=52;var r=(t.tm_wday+7-t.tm_yday-1)%7;(4==r||5==r&&Gt(t.tm_year%400-1))&&e++}return p(e,2)},"%w":function(t){return t.tm_wday},"%W":function(t){var e=t.tm_yday+7-(t.tm_wday+6)%7;return p(Math.floor(e/7),2)},"%y":function(t){return(t.tm_year+1900).toString().substring(2)},"%Y":function(t){return t.tm_year+1900},"%z":function(t){var e=t.tm_gmtoff,n=e>=0;return e=(e=Math.abs(e)/60)/60*100+e%60,(n?"+":"-")+String("0000"+e).slice(-4)},"%Z":function(t){return t.tm_zone},"%%":function(){return"%"}};for(var u in a=a.replace(/%%/g,"\0\0"),m)a.includes(u)&&(a=a.replace(new RegExp(u,"g"),m[u](i)));var v=function(t){var e=S(t)+1,n=new Array(e);return E(t,n,0,n.length),n}(a=a.replace(/\0\0/g,"%"));return v.length>e?0:(function(t,e){h.set(t,e)}(v,t),v.length-1)}(t,e,n,r)}},qt=(function(){var t={a:Kt};function e(t,e){var n,o=t.exports;r.asm=o,k((p=r.asm.Q).buffer),N=r.asm.T,n=r.asm.R,L.unshift(n),function(){if(R--,r.monitorRunDependencies&&r.monitorRunDependencies(R),0==R&&(null!==U&&(clearInterval(U),U=null),z)){var t=z;z=null,t()}}()}function o(t){e(t.instance)}function i(e){return(l||"function"!=typeof fetch?Promise.resolve().then((function(){return $(D)})):fetch(D,{credentials:"same-origin"}).then((function(t){if(!t.ok)throw"failed to load wasm binary file at '"+D+"'";return t.arrayBuffer()})).catch((function(){return $(D)}))).then((function(e){return WebAssembly.instantiate(e,t)})).then((function(t){return t})).then(e,(function(t){f("failed to asynchronously prepare wasm: "+t),W(t)}))}if(R++,r.monitorRunDependencies&&r.monitorRunDependencies(R),r.instantiateWasm)try{return r.instantiateWasm(t,e)}catch(t){f("Module.instantiateWasm callback failed with error: "+t),n(t)}(l||"function"!=typeof WebAssembly.instantiateStreaming||B(D)||"function"!=typeof fetch?i(o):fetch(D,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,t).then(o,(function(t){return f("wasm streaming compile failed: "+t),f("falling back to ArrayBuffer instantiation"),i(o)}))}))).catch(n)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.R).apply(null,arguments)},r._main=function(){return(r._main=r.asm.S).apply(null,arguments)},r._malloc=function(){return(qt=r._malloc=r.asm.U).apply(null,arguments)}),Qt=r._free=function(){return(Qt=r._free=r.asm.V).apply(null,arguments)},Zt=r.___getTypeName=function(){return(Zt=r.___getTypeName=r.asm.W).apply(null,arguments)},te=(r.__embind_initialize_bindings=function(){return(r.__embind_initialize_bindings=r.asm.X).apply(null,arguments)},r.___cxa_is_pointer_type=function(){return(te=r.___cxa_is_pointer_type=r.asm.Y).apply(null,arguments)});function ee(t){var e,n,o=r._main;try{var i=o(0,0);return g=e=i,g=n=e,d||(r.onExit&&r.onExit(n),C=!0),s(n,new H(n)),i}catch(t){return function(t){if(t instanceof H||"unwind"==t)return g;s(1,t)}(t)}}function ne(t){function n(){Jt||(Jt=!0,r.calledRun=!0,C||(G(L),G(j),e(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),re&&ee(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)t=r.postRun.shift(),F.unshift(t);var t;G(F)}()))}t=t||i,R>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)t=r.preRun.shift(),M.unshift(t);var t;G(M)}(),R>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n()))}if(r.dynCall_viij=function(){return(r.dynCall_viij=r.asm.Z).apply(null,arguments)},r.dynCall_vij=function(){return(r.dynCall_vij=r.asm._).apply(null,arguments)},r.dynCall_iij=function(){return(r.dynCall_iij=r.asm.$).apply(null,arguments)},r.dynCall_viji=function(){return(r.dynCall_viji=r.asm.aa).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.ba).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.ca).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.da).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.ea).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.fa).apply(null,arguments)},r.___start_em_js=638316,r.___stop_em_js=638383,z=function t(){Jt||ne(),Jt||(z=t)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var re=!0;return r.noInitialRun&&(re=!1),ne(),t.ready});const Yn=Gn,Xn=n.p+"17dd54813d5acc10bf8fdcde093203ee.wasm";class Jn{constructor(){this._instance}get instance(){if(this._instance)return this._instance;throw new Error("ICRPolySeg is not initialized.")}async initialize(t={}){this._instance=await Yn({locateFile:t=>t.endsWith(".wasm")?Xn:t,...t})}}class Kn{constructor(t,e,n=1){this.rows=new Map,this.height=1,this.width=1,this.depth=1,this.jMultiple=1,this.kMultiple=1,this.numComps=1,this.defaultValue=0,this.pixelDataConstructor=Uint8Array,this.get=t=>{const e=t%this.jMultiple,n=(t-e)/this.jMultiple,r=this.getRLE(e,n);return r?.value||this.defaultValue},this.getRun=(t,e)=>{const n=t+e*this.height;return this.rows.get(n)},this.set=(t,e)=>{if(void 0===e)throw new Error("Can't set undefined at "+t%this.width);const n=t%this.width,r=(t-n)/this.width,o=this.rows.get(r);if(!o)return void this.rows.set(r,[{start:n,end:n+1,value:e}]);const i=this.findIndex(o,n),a=o[i],s=o[i-1];if(!a)return s&&s.value===e&&s.end===n?void s.end++:void(o[i]={start:n,end:n+1,value:e});const{start:u,end:l,value:c}=a;if(e===c&&n>=u)return;const f={start:n,end:n+1,value:e},p=n>u,d=p?i+1:i,g=p?a:s;let y=p?o[i+1]:a;if(g?.value===e&&g?.end===n)return g.end++,void(y?.value===e&&y.start===n+1?(g.end=y.end,o.splice(i,1)):y?.start===n&&(y.start++,y.start===y.end&&(o.splice(i,1),y=o[i],y?.start===n+1&&y.value===e&&(g.end=y.end,o.splice(i,1)))));if(y?.value===e&&y.start===n+1)return y.start--,void(g?.end>n&&(g.end=n,g.end===g.start&&o.splice(i,1)));if(y?.start!==n||y.end!==n+1)n===y?.start&&y.start++,p&&l>n+1?o.splice(d,0,f,{start:n+1,end:g.end,value:g.value}):o.splice(d,0,f),g?.end>n&&(g.end=n);else{y.value=e;const t=o[i+1];t?.start==n+1&&t.value===e&&(o.splice(i+1,1),y.end=t.end)}},this.width=t,this.height=e,this.depth=n,this.jMultiple=t,this.kMultiple=this.jMultiple*e}getRLE(t,e,n=0){const r=this.rows.get(e+n*this.height);if(!r)return;const o=r[this.findIndex(r,t)];return t>=o?.start?o:void 0}findIndex(t,e){for(let n=0;n<t.length;n++){const{end:r}=t[n];if(e<r)return n}return t.length}clear(){this.rows.clear()}keys(){return[...this.rows.keys()]}getPixelData(t=0,e){e?e.fill(0):e=new this.pixelDataConstructor(this.width*this.height*this.numComps);const{width:n,height:r,numComps:o}=this;for(let i=0;i<r;i++){const r=this.getRun(i,t);if(r)if(1===o)for(const t of r){const r=i*n,{start:o,end:a,value:s}=t;for(let t=o;t<a;t++)e[r+t]=s}else for(const t of r){const r=i*n*o,{start:a,end:s,value:u}=t;for(let t=a;t<s;t+=o)for(let n=0;n<o;n++)e[r+t+n]=u[n]}}return e}}function qn(t,e,n){return Math.abs(t-e)<=n}function Qn(t){return"number"==typeof t}function Zn(t){return"length"in t&&"number"==typeof t[0]}class tr{constructor(t,e,n){this.modifiedSlices=new Set,this.boundsIJK=[[1/0,-1/0],[1/0,-1/0],[1/0,-1/0]],this.numComps=1,this.getAtIJK=(t,e,n)=>{const r=t+e*this.width+n*this.frameSize;return this._get(r)},this.setAtIJK=(t,e,n,r)=>{const o=t+e*this.width+n*this.frameSize;!1!==this._set(o,r)&&(this.modifiedSlices.add(n),tr.addBounds(this.boundsIJK,[t,e,n]))},this.getAtIJKPoint=([t,e,n])=>this.getAtIJK(t,e,n),this.setAtIJKPoint=([t,e,n],r)=>this.setAtIJK(t,e,n,r),this.getAtIndex=t=>this._get(t),this.setAtIndex=(t,e)=>{if(!1!==this._set(t,e)){const e=this.toIJK(t);this.modifiedSlices.add(e[2]),tr.addBounds(this.boundsIJK,e)}},this.forEach=(t,e)=>{const n=e?.boundsIJK||this.getBoundsIJK(),{isWithinObject:r}=e||{};if(this.map)for(const e of this.map.keys()){const n=this.toIJK(e),o={value:this._get(e),index:e,pointIJK:n};!1!==r?.(o)&&t(o)}else for(let e=n[2][0];e<=n[2][1];e++){const o=e*this.frameSize;for(let i=n[1][0];i<=n[1][1];i++){const a=o+i*this.width;for(let o=n[0][0],s=a+o;o<=n[0][1];o++,s++){const n={value:this.getAtIndex(s),index:s,pointIJK:[o,i,e]};!1!==r?.(n)&&t(n)}}}},this.dimensions=t,this.width=t[0],this.frameSize=this.width*t[1],this._get=e,this._set=n}addPoint(t){const e=Array.isArray(t)?t[0]+this.width*t[1]+this.frameSize*t[2]:t;this.points||(this.points=new Set),this.points.add(e)}getPoints(){return this.points?[...this.points].map((t=>this.toIJK(t))):[]}getPointIndices(){return this.points?[...this.points]:[]}toIJK(t){return[t%this.width,Math.floor(t%this.frameSize/this.width),Math.floor(t/this.frameSize)]}toIndex(t){return t[0]+t[1]*this.width+t[2]*this.frameSize}getBoundsIJK(){return this.boundsIJK[0][0]<this.dimensions[0]?this.boundsIJK:this.dimensions.map((t=>[0,t-1]))}clear(){this.map&&this.map.clear(),this.boundsIJK.map((t=>{t[0]=1/0,t[1]=-1/0})),this.modifiedSlices.clear(),this.points?.clear()}getArrayOfSlices(){return Array.from(this.modifiedSlices)}static addBounds(t,e){t||(t=[[1/0,-1/0],[1/0,-1/0],[1/0,-1/0]]),t[0][0]=Math.min(e[0],t[0][0]),t[0][1]=Math.max(e[0],t[0][1]),t[1][0]=Math.min(e[1],t[1][0]),t[1][1]=Math.max(e[1],t[1][1]),t[2][0]=Math.min(e[2],t[2][0]),t[2][1]=Math.max(e[2],t[2][1])}static createRGBVolumeVoxelManager(t,e,n){const r=new tr(t,(t=>(t*=n,[e[t++],e[t++],e[t++]])),((t,n)=>{const r=!function(t,e,n=1e-5){return typeof t==typeof e&&null!==t&&null!==e&&(Qn(t)&&Qn(e)?qn(t,e,n):!(!Zn(t)||!Zn(e))&&function(t,e,n=1e-5){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!qn(t[r],e[r],n))return!1;return!0}(t,e,n))}(e[t*=3],n);return e[t++]=n[0],e[t++]=n[1],e[t++]=n[2],r}));return r.numComps=n,r.scalarData=e,r}static createVolumeVoxelManager(t,e,n=0){if(3!==t.length)throw new Error("Dimensions must be provided as [number, number, number] for [width, height, depth]");if(!n&&((n=e.length/t[0]/t[1]/t[2])>4||n<1||2===n))throw new Error(`Number of components ${n} must be 1, 3 or 4`);return n>1?tr.createRGBVolumeVoxelManager(t,e,n):tr.createNumberVolumeVoxelManager(t,e)}static createNumberVolumeVoxelManager(t,e){const n=new tr(t,(t=>e[t]),((t,n)=>{const r=e[t]!==n;return e[t]=n,r}));return n.scalarData=e,n}static createMapVoxelManager(t){const e=new Map,n=new tr(t,e.get.bind(e),((t,n)=>e.set(t,n)&&!0));return n.map=e,n}static createHistoryVoxelManager(t){const e=new Map,{dimensions:n}=t,r=new tr(n,(t=>e.get(t)),(function(t,n){if(e.has(t))n===e.get(t)&&e.delete(t);else{const r=this.sourceVoxelManager.getAtIndex(t);if(r===n)return!1;e.set(t,r)}this.sourceVoxelManager.setAtIndex(t,n)}));return r.map=e,r.scalarData=t.scalarData,r.sourceVoxelManager=t,r}static createLazyVoxelManager(t,e){const n=new Map,[r,o,i]=t,a=r*o,s=new tr(t,(t=>n.get(Math.floor(t/a))?.[t%a]),((t,i)=>{const s=Math.floor(t/a);let u=n.get(s);u||(u=e(r,o),n.set(s,u)),u[t%a]=i}));return s.map=n,s}static createRLEVoxelManager(t){const[e,n,r]=t,o=new Kn(e,n,r),i=new tr(t,(t=>o.get(t)),((t,e)=>o.set(t,e)));return i.map=o,i.getPixelData=o.getPixelData.bind(o),i}static addInstanceToImage(t){const{width:e,height:n}=t,r=t.getPixelData();r?.length>=e*n?t.voxelManager=tr.createVolumeVoxelManager([e,n,1],r):(t.voxelManager=tr.createRLEVoxelManager([e,n,1]),t.getPixelData=t.voxelManager.getPixelData,t.sizeInBytes=5120)}}function er(t,e){return t.worldToIndex(e).map(Math.round)}function nr(t){let e=0;return t.filter(((t,n)=>n===e&&(e+=t+1,!0)))}function rr(t){let e=0;for(let n=0;n<t.length;)n+=t[n]+1,e++;return e}const or={extractCellSizes:nr,getNumberOfCells:rr};function ir(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};An.extend(t,e,function(t){return{empty:!0,numberOfComponents:1,dataType:un.UNSIGNED_INT,...t}}(n)),function(t,e){e.classHierarchy.push("vtkCellArray");const n={...t};t.getNumberOfCells=n=>void 0===e.numberOfCells||n?(e.cellSizes?e.numberOfCells=e.cellSizes.length:e.numberOfCells=rr(t.getData()),e.numberOfCells):e.numberOfCells,t.getCellSizes=n=>void 0===e.cellSizes||n?(e.cellSizes=nr(t.getData()),e.cellSizes):e.cellSizes,t.resize=r=>{const o=t.getNumberOfTuples();n.resize(r);const i=t.getNumberOfTuples();i<o&&(0===i?(e.numberOfCells=0,e.cellSizes=[]):(e.numberOfCells=void 0,e.cellSizes=void 0))},t.setData=t=>{n.setData(t,1),e.numberOfCells=void 0,e.cellSizes=void 0},t.getCell=t=>{let n=t;const r=e.values[n++];return e.values.subarray(n,n+r)},t.insertNextCell=n=>{const r=t.getNumberOfCells();return t.insertNextTuples([n.length,...n]),++e.numberOfCells,null!=e.cellSizes&&e.cellSizes.push(n.length),r}}(t,e)}var ar={newInstance:St.newInstance(ir,"vtkCellArray"),extend:ir,...or};const{vtkErrorMacro:sr}=St,ur=[1,-1,1,-1,1,-1],lr={empty:!0,numberOfComponents:3,dataType:un.FLOAT,bounds:[1,-1,1,-1,1,-1]};function cr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,lr,n),An.extend(t,e,n),function(t,e){e.classHierarchy.push("vtkPoints"),t.getNumberOfPoints=t.getNumberOfTuples,t.setNumberOfPoints=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;t.getNumberOfPoints()!==n&&(e.size=n*r,e.values=St.newTypedArray(e.dataType,e.size),t.setNumberOfComponents(r),t.modified())},t.setPoint=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.setTuple(e,r)},t.getPoint=t.getTuple,t.findPoint=t.findTuple,t.insertNextPoint=(e,n,r)=>t.insertNextTuple([e,n,r]),t.getBounds=()=>{if(3===t.getNumberOfComponents()){const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);e.bounds[2]=r[0],e.bounds[3]=r[1];const o=t.getRange(2);return e.bounds[4]=o[0],e.bounds[5]=o[1],e.bounds}if(2!==t.getNumberOfComponents())return sr(`getBounds called on an array with components of\n        ${t.getNumberOfComponents()}`),ur;const n=t.getRange(0);e.bounds[0]=n[0],e.bounds[1]=n[1];const r=t.getRange(1);return e.bounds[2]=r[0],e.bounds[3]=r[1],e.bounds[4]=0,e.bounds[5]=0,e.bounds},t.computeBounds=t.getBounds,t.setNumberOfComponents(e.numberOfComponents<2?3:e.numberOfComponents)}(t,e)}var fr={newInstance:St.newInstance(cr,"vtkPoints"),extend:cr};const pr={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]};function dr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,pr,n),St.obj(t,e),e.points||(e.points=fr.newInstance()),St.get(t,e,["points","pointsIds"]),function(t,e){e.classHierarchy.push("vtkCell"),t.initialize=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(n){e.pointsIds=n;let r=e.points.getData();r.length!==3*e.pointsIds.length&&(r=St.newTypedArray(t.getDataType(),3*e.pointsIds.length));const o=t.getData();e.pointsIds.forEach(((t,e)=>{let n=3*t,i=3*e;r[i]=o[n],r[++i]=o[++n],r[++i]=o[++n]})),e.points.setData(r)}else{e.points=t,e.pointsIds=new Array(t.getNumberOfPoints());for(let n=t.getNumberOfPoints()-1;n>=0;--n)e.pointsIds[n]=n}},t.getBounds=()=>{const t=e.points.getNumberOfPoints(),n=[];if(t){e.points.getPoint(0,n),e.bounds[0]=n[0],e.bounds[1]=n[0],e.bounds[2]=n[1],e.bounds[3]=n[1],e.bounds[4]=n[2],e.bounds[5]=n[2];for(let r=1;r<t;r++)e.points.getPoint(r,n),e.bounds[0]=n[0]<e.bounds[0]?n[0]:e.bounds[0],e.bounds[1]=n[0]>e.bounds[1]?n[0]:e.bounds[1],e.bounds[2]=n[1]<e.bounds[2]?n[1]:e.bounds[2],e.bounds[3]=n[1]>e.bounds[3]?n[1]:e.bounds[3],e.bounds[4]=n[2]<e.bounds[4]?n[2]:e.bounds[4],e.bounds[5]=n[2]>e.bounds[5]?n[2]:e.bounds[5]}else(r=e.bounds)[0]=1,r[1]=-1,r[2]=1,r[3]=-1,r[4]=1,r[5]=-1;var r;return e.bounds},t.getLength2=()=>{t.getBounds();let n=0,r=0;for(let t=0;t<3;t++)r=e.bounds[2*t+1]-e.bounds[2*t],n+=r*r;return n},t.getParametricDistance=t=>{let e,n=0;for(let r=0;r<3;r++)e=t[r]<0?-t[r]:t[r]>1?t[r]-1:0,e>n&&(n=e);return n},t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.deepCopy=t=>{t.initialize(e.points,e.pointsIds)},t.getCellDimension=()=>{},t.intersectWithLine=(t,e,n,r,o,i,a)=>{},t.evaluatePosition=(t,e,n,r,o,i)=>{St.vtkErrorMacro("vtkCell.evaluatePosition is not implemented.")}}(t,e)}var gr={newInstance:St.newInstance(dr,"vtkCell"),extend:dr};const yr={array:null,maxId:0,extend:0};function hr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,yr,n),St.obj(t,e),function(t,e){e.classHierarchy.push("vtkCellLinks"),t.buildLinks=n=>{const r=n.getPoints().getNumberOfPoints(),o=n.getNumberOfCells(),i=new Uint32Array(r);if(n.isA("vtkPolyData")){for(let e=0;e<o;++e){const{cellPointIds:r}=n.getCellPoints(e);r.forEach((e=>{t.incrementLinkCount(e)}))}t.allocateLinks(r),e.maxId=r-1;for(let e=0;e<o;++e){const{cellPointIds:r}=n.getCellPoints(e);r.forEach((n=>{t.insertCellReference(n,i[n]++,e)}))}}else{for(let e=0;e<o;e++)gr.newInstance().getPointsIds().forEach((e=>{t.incrementLinkCount(e)}));t.allocateLinks(r),e.maxId=r-1;for(let e=0;e<o;++e)gr.newInstance().getPointsIds().forEach((n=>{t.insertCellReference(n,i[n]++,e)}))}},t.allocate=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e.array=Array(t).fill().map((()=>({ncells:0,cells:null}))),e.extend=n,e.maxId=-1},t.initialize=()=>{e.array=null},t.getLink=t=>e.array[t],t.getNcells=t=>e.array[t].ncells,t.getCells=t=>e.array[t].cells,t.insertNextPoint=t=>{e.array.push({ncells:t,cells:Array(t)}),++e.maxId},t.insertNextCellReference=(t,n)=>{e.array[t].cells[e.array[t].ncells++]=n},t.deletePoint=t=>{e.array[t].ncells=0,e.array[t].cells=null},t.removeCellReference=(t,n)=>{e.array[n].cells=e.array[n].cells.filter((e=>e!==t)),e.array[n].ncells=e.array[n].cells.length},t.addCellReference=(t,n)=>{e.array[n].cells[e.array[n].ncells++]=t},t.resizeCellList=(t,n)=>{e.array[t].cells.length=n},t.squeeze=()=>{!function(t,e){let n=e;for(e>=t.array.length&&(n+=t.array.length);n>t.array.length;)t.array.push({ncells:0,cells:null});t.array.length=n}(e,e.maxId+1)},t.reset=()=>{e.maxId=-1},t.deepCopy=t=>{e.array=[...t.array],e.extend=t.extend,e.maxId=t.maxId},t.incrementLinkCount=t=>{++e.array[t].ncells},t.allocateLinks=t=>{for(let n=0;n<t;++n)e.array[n].cells=new Array(e.array[n].ncells)},t.insertCellReference=(t,n,r)=>{e.array[t].cells[n]=r}}(t,e)}var mr={newInstance:St.newInstance(hr,"vtkCellLinks"),extend:hr};const vr=0,br=1,Ar=2,wr=3,Ir=4,xr=5,Cr=6,Or=7,Pr=9,Tr=21,Er=41,Sr=42,kr=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"],Nr={getClassNameFromTypeId:function(t){return t<kr.length?kr[t]:"UnknownClass"},getTypeIdFromClassName:function(t){return kr.findIndex(t)},isLinear:function(t){return t<Tr||t===Er||t===Sr},hasSubCells:function(t){return t===Cr||t===Ir||t===Ar}},Dr={size:0,maxId:-1,extend:1e3};function _r(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Dr,n),St.obj(t,e),St.get(t,e,["size","maxId","extend"]),St.getArray(t,e,["typeArray","locationArray"]),function(t,e){e.classHierarchy.push("vtkCellTypes"),t.allocate=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e.size=t>0?t:1,e.extend=n>0?n:1,e.maxId=-1,e.typeArray=new Uint8Array(t),e.locationArray=new Uint32Array(t)},t.insertCell=(t,n,r)=>{e.typeArray[t]=n,e.locationArray[t]=r,t>e.maxId&&(e.maxId=t)},t.insertNextCell=(n,r)=>(t.insertCell(++e.maxId,n,r),e.maxId),t.setCellTypes=(t,n,r)=>{e.size=t,e.typeArray=n,e.locationArray=r,e.maxId=t-1},t.getCellLocation=t=>e.locationArray[t],t.deleteCell=t=>{e.typeArray[t]=vr},t.getNumberOfTypes=()=>e.maxId+1,t.isType=e=>{const n=t.getNumberOfTypes();for(let r=0;r<n;++r)if(e===t.getCellType(r))return!0;return!1},t.insertNextType=e=>t.insertNextCell(e,-1),t.getCellType=t=>e.typeArray[t],t.reset=()=>{e.maxId=-1},t.deepCopy=n=>{t.allocate(n.getSize(),n.getExtend()),e.typeArray.set(n.getTypeArray()),e.locationArray.set(n.getLocationArray()),e.maxId=n.getMaxId()}}(t,e)}var Mr={newInstance:St.newInstance(_r,"vtkCellTypes"),extend:_r,...Nr},Lr={IntersectionState:{NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2}};function jr(){var t=new ee(4);return ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}!function(){var t;t=new ee(4),ee!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var Fr;ne(),oe(1,0,0),oe(0,1,0),jr(),jr(),Fr=new ee(9),ee!=Float32Array&&(Fr[1]=0,Fr[2]=0,Fr[3]=0,Fr[5]=0,Fr[6]=0,Fr[7]=0),Fr[0]=1,Fr[4]=1,Fr[8]=1;const{IntersectionState:Rr}=Lr;function Ur(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const o={t:Number.MIN_VALUE,distance:0},i=[];let a;i[0]=n[0]-e[0],i[1]=n[1]-e[1],i[2]=n[2]-e[2];const s=i[0]*(t[0]-e[0])+i[1]*(t[1]-e[1])+i[2]*(t[2]-e[2]),u=Bt(i,i);let l=1e-5*s;return 0!==u&&(o.t=s/u),l<0&&(l=-l),-l<u&&u<l||u<=0||o.t<0?a=e:o.t>1?a=n:(a=i,i[0]=e[0]+o.t*i[0],i[1]=e[1]+o.t*i[1],i[2]=e[2]+o.t*i[2]),r&&(r[0]=a[0],r[1]=a[1],r[2]=a[2]),o.distance=Ht(a,t),o}function zr(t,e,n,r,o,i){const a=[],s=[],u=[];o[0]=0,i[0]=0,zt(e,t,a),zt(r,n,s),zt(n,t,u);const l=[Bt(a,a),-Bt(a,s),-Bt(a,s),Bt(s,s)],c=[];if(c[0]=Bt(a,u),c[1]=-Bt(s,u),0===Jt(l,c,2)){let a=Number.MAX_VALUE;const s=[t,e,n,r],u=[n,n,t,t],l=[r,r,e,e];let c;i[0],i[0],o[0],o[0],o[0],o[0],i[0],i[0];for(let t=0;t<4;t++)c=Ur(s[t],u[t],l[t]),c.distance<a&&(a=c.distance);return Rr.ON_LINE}return o[0]=c[0],i[0]=c[1],o[0]>=0&&o[0]<=1&&i[0]>=0&&i[0]<=1?Rr.YES_INTERSECTION:Rr.NO_INTERSECTION}const Wr={distanceToLine:Ur,intersection:zr},Br={orientations:null};function $r(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Br,n),gr.extend(t,e,n),St.setGet(t,e,["orientations"]),function(t,e){e.classHierarchy.push("vtkLine"),t.getCellDimension=()=>1,t.intersectWithLine=(t,n,r,o,i)=>{const a={intersect:0,t:Number.MAX_VALUE,subId:0,betweenPoints:null};i[1]=0,i[2]=0;const s=[],u=[],l=[];e.points.getPoint(0,u),e.points.getPoint(1,l);const c=[],f=[],p=zr(t,n,u,l,c,f);var d;if(a.t=c[0],a.betweenPoints=(d=a.t)>=0&&d<=1,i[0]=f[0],p===Rr.YES_INTERSECTION){for(let e=0;e<3;e++)o[e]=u[e]+i[0]*(l[e]-u[e]),s[e]=t[e]+a.t*(n[e]-t[e]);if(Ht(o,s)<=r*r)return a.intersect=1,a}else{let e;if(a.t<0)return e=Ur(t,u,l,o),e.distance<=r*r?(a.t=0,a.intersect=1,a.betweenPoints=!0,a):a;if(a.t>1)return e=Ur(n,u,l,o),e.distance<=r*r?(a.t=1,a.intersect=1,a.betweenPoints=!0,a):a;if(i[0]<0)return i[0]=0,e=Ur(u,t,n,o),a.t=e.t,e.distance<=r*r?(a.intersect=1,a):a;if(i[0]>1)return i[0]=1,e=Ur(l,t,n,o),a.t=e.t,e.distance<=r*r?(a.intersect=1,a):a}return a},t.evaluateLocation=(t,n,r)=>{const o=[],i=[];e.points.getPoint(0,o),e.points.getPoint(1,i);for(let e=0;e<3;e++)n[e]=o[e]+t[0]*(i[e]-o[e]);r[0]=1-t[0],r[1]=t[0]},t.evaluateOrientation=(t,n,r)=>!!e.orientations&&(function(t,e,n,r){var o,i,a,s,u,l=e[0],c=e[1],f=e[2],p=e[3],d=n[0],g=n[1],y=n[2],h=n[3];(i=l*d+c*g+f*y+p*h)<0&&(i=-i,d=-d,g=-g,y=-y,h=-h),1-i>te?(o=Math.acos(i),a=Math.sin(o),s=Math.sin((1-r)*o)/a,u=Math.sin(r*o)/a):(s=1-r,u=r),t[0]=s*l+u*d,t[1]=s*c+u*g,t[2]=s*f+u*y,t[3]=s*p+u*h}(n,e.orientations[0],e.orientations[1],t[0]),r[0]=1-t[0],r[1]=t[0],!0)}(t,e)}var Vr={newInstance:St.newInstance($r,"vtkLine"),extend:$r,...Wr,...Lr};const Hr={};function Gr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,Hr,n),jn.extend(t,e,n),St.setGet(t,e,["points"]),function(t,e){e.classHierarchy.push("vtkPointSet"),e.points?e.points=S(e.points):e.points=fr.newInstance(),t.getNumberOfPoints=()=>e.points.getNumberOfPoints(),t.getBounds=()=>e.points.getBounds(),t.computeBounds=()=>{t.getBounds()};const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),e.points=fr.newInstance(),e.points.shallowCopy(t.getPoints())}}(t,e)}var Yr={newInstance:St.newInstance(Gr,"vtkPointSet"),extend:Gr};function Xr(t,e,n,r){const o=n[0]-e[0],i=n[1]-e[1],a=n[2]-e[2],s=t[0]-e[0],u=t[1]-e[1],l=t[2]-e[2];r[0]=i*l-a*u,r[1]=a*s-o*l,r[2]=o*u-i*s}function Jr(t,e,n,r){Xr(t,e,n,r);const o=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==o&&(r[0]/=o,r[1]/=o,r[2]/=o)}const Kr={computeNormalDirection:Xr,computeNormal:Jr,intersectWithTriangle:function(t,e,n,r,o,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e-6,s=!1;const u=[],l=[],c=[],f=[],p=[];Jr(t,e,n,f),Jr(r,o,i,p);const d=-Bt(f,t),g=-Bt(p,r),y=[Bt(p,t)+g,Bt(p,e)+g,Bt(p,n)+g];if(y[0]*y[1]>a&&y[0]*y[2]>a)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c};const h=[Bt(f,r)+d,Bt(f,o)+d,Bt(f,i)+d];if(h[0]*h[1]>a&&h[0]*h[2]>a)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c};if(Math.abs(f[0]-p[0])<1e-9&&Math.abs(f[1]-p[1])<1e-9&&Math.abs(f[2]-p[2])<1e-9&&Math.abs(d-g)<1e-9)return s=!0,{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c};const m=[t,e,n],v=[r,o,i],b=Bt(f,p),A=(d-g*b)/(b*b-1),w=(g-d*b)/(b*b-1),I=[A*f[0]+w*p[0],A*f[1]+w*p[1],A*f[2]+w*p[2]],x=$t(f,p,[]);!function(t){const e=Vt(t);0!==e&&(t[0]/=e,t[1]/=e,t[2]/=e)}(x);let C=0,O=0;const P=[],T=[];let E,S,k=50,N=50;for(let e=0;e<3;e++){const n=e,o=(e+1)%3,i=Ce.intersectWithLine(m[n],m[o],r,p);i.intersection&&i.t>0-a&&i.t<1+a&&(i.t<1+a&&i.t>1-a&&(k=C),P[C++]=Bt(i.x,x)-Bt(I,x));const s=Ce.intersectWithLine(v[n],v[o],t,f);s.intersection&&s.t>0-a&&s.t<1+a&&(s.t<1+a&&s.t>1-a&&(N=O),T[O++]=Bt(s.x,x)-Bt(I,x))}if(C>2){C--;const t=P[2];P[2]=P[k],P[k]=t}if(O>2){O--;const t=T[2];T[2]=T[N],T[N]=t}if(2!==C||2!==O)return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c};if(Number.isNaN(P[0])||Number.isNaN(P[1])||Number.isNaN(T[0])||Number.isNaN(T[1]))return{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c};if(P[0]>P[1]){const t=P[1];P[1]=P[0],P[0]=t}if(T[0]>T[1]){const t=T[1];T[1]=T[0],T[0]=t}return P[1]<T[0]||T[1]<P[0]?{intersect:!1,coplanar:s,pt1:u,pt2:l,surfaceId:c}:(P[0]<T[0]?P[1]<T[1]?(c[0]=2,c[1]=1,E=T[0],S=P[1]):(c[0]=2,c[1]=2,E=T[0],S=T[1]):P[1]<T[1]?(c[0]=1,c[1]=1,E=P[0],S=P[1]):(c[0]=1,c[1]=2,E=P[0],S=T[1]),Wt(I,x,E,u),Wt(I,x,S,l),{intersect:!0,coplanar:s,pt1:u,pt2:l,surfaceId:c})}},qr={};function Qr(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,qr,n),gr.extend(t,e,n),function(t,e){e.classHierarchy.push("vtkTriangle"),t.getCellDimension=()=>2,t.intersectWithLine=(n,r,o,i,a)=>{const s={subId:0,t:Number.MAX_VALUE,intersect:0,betweenPoints:!1};a[2]=0;const u=[],l=o*o,c=[],f=[],p=[];e.points.getPoint(0,c),e.points.getPoint(1,f),e.points.getPoint(2,p);const d=[],g=[];if(Jr(c,f,p,d),0!==d[0]||0!==d[1]||0!==d[2]){const e=Ce.intersectWithLine(n,r,c,d);if(s.betweenPoints=e.betweenPoints,s.t=e.t,i[0]=e.x[0],i[1]=e.x[1],i[2]=e.x[2],!e.intersection)return a[0]=0,a[1]=0,s.intersect=0,s;const o=t.evaluatePosition(i,u,a,g);if(o.evaluation>=0)return o.dist2<=l?(s.intersect=1,s):(s.intersect=o.evaluation,s)}const y=Ht(c,f),h=Ht(f,p),m=Ht(p,c);e.line||(e.line=Vr.newInstance()),y>h&&y>m?(e.line.getPoints().setPoint(0,c),e.line.getPoints().setPoint(1,f)):h>m&&h>y?(e.line.getPoints().setPoint(0,f),e.line.getPoints().setPoint(1,p)):(e.line.getPoints().setPoint(0,p),e.line.getPoints().setPoint(1,c));const v=e.line.intersectWithLine(n,r,o,i,a);if(s.betweenPoints=v.betweenPoints,s.t=v.t,v.intersect){const t=[],e=[],n=[];for(let r=0;r<3;r++)t[r]=c[r]-p[r],e[r]=f[r]-p[r],n[r]=i[r]-p[r];return a[0]=Bt(n,t)/m,a[1]=Bt(n,e)/h,s.intersect=1,s}return a[0]=0,a[1]=0,s.intersect=0,s},t.evaluatePosition=(t,n,r,o)=>{const i={subId:0,dist2:0,evaluation:-1};let a,s;const u=[],l=[],c=[],f=[];let p;const d=[],g=[],y=[];let h=0,m=0;const v=[];let b,A,w,I=[];const x=[],C=[],O=[];i.subId=0,r[2]=0,e.points.getPoint(1,u),e.points.getPoint(2,l),e.points.getPoint(0,c),Xr(u,l,c,f),Ce.generalizedProjectPoint(t,u,f,O);let P=0;for(a=0;a<3;a++)p=f[a]<0?-f[a]:f[a],p>P&&(P=p,m=a);for(s=0,a=0;a<3;a++)a!==m&&(v[s++]=a);for(a=0;a<2;a++)d[a]=O[v[a]]-c[v[a]],g[a]=u[v[a]]-c[v[a]],y[a]=l[v[a]]-c[v[a]];if(h=Gt(g,y),0===h)return r[0]=0,r[1]=0,i.evaluation=-1,i;if(r[0]=Gt(d,y)/h,r[1]=Gt(g,d)/h,o[0]=1-(r[0]+r[1]),o[1]=r[0],o[2]=r[1],o[0]>=0&&o[0]<=1&&o[1]>=0&&o[1]<=1&&o[2]>=0&&o[2]<=1)n&&(i.dist2=Ht(O,t),n[0]=O[0],n[1]=O[1],n[2]=O[2]),i.evaluation=1;else{let e;if(n)if(o[1]<0&&o[2]<0)for(b=Ht(t,c),A=Vr.distanceToLine(t,u,c,e,x),w=Vr.distanceToLine(t,c,l,e,C),b<A?(i.dist2=b,I=c):(i.dist2=A,I=x),w<i.dist2&&(i.dist2=w,I=C),a=0;a<3;a++)n[a]=I[a];else if(o[2]<0&&o[0]<0)for(b=Ht(t,u),A=Vr.distanceToLine(t,u,c,e,x),w=Vr.distanceToLine(t,u,l,e,C),b<A?(i.dist2=b,I=u):(i.dist2=A,I=x),w<i.dist2&&(i.dist2=w,I=C),a=0;a<3;a++)n[a]=I[a];else if(o[1]<0&&o[0]<0)for(b=Ht(t,l),A=Vr.distanceToLine(t,l,c,e,x),w=Vr.distanceToLine(t,u,l,e,C),b<A?(i.dist2=b,I=l):(i.dist2=A,I=x),w<i.dist2&&(i.dist2=w,I=C),a=0;a<3;a++)n[a]=I[a];else if(o[0]<0){const e=Vr.distanceToLine(t,u,l,n);i.dist2=e.distance}else if(o[1]<0){const e=Vr.distanceToLine(t,l,c,n);i.dist2=e.distance}else if(o[2]<0){const e=Vr.distanceToLine(t,u,c,n);i.dist2=e.distance}i.evaluation=0}return i},t.evaluateLocation=(t,n,r)=>{const o=[],i=[],a=[];e.points.getPoint(0,o),e.points.getPoint(1,i),e.points.getPoint(2,a);const s=1-t[0]-t[1];for(let e=0;e<3;e++)n[e]=o[e]*s+i[e]*t[0]+a[e]*t[1];r[0]=s,r[1]=t[0],r[2]=t[1]},t.getParametricDistance=t=>{let e,n=0;const r=[];r[0]=t[0],r[1]=t[1],r[2]=1-t[0]-t[1];for(let t=0;t<3;t++)e=r[t]<0?-r[t]:r[t]>1?r[t]-1:0,e>n&&(n=e);return n}}(t,e)}var Zr={newInstance:St.newInstance(Qr,"vtkTriangle"),extend:Qr,...Kr};const to=["verts","lines","polys","strips"],{vtkWarningMacro:eo}=St,no={[wr]:Vr,[Ir]:Vr,[xr]:Zr},ro={};function oo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,ro,n),Yr.extend(t,e,n),St.get(t,e,["cells","links"]),St.setGet(t,e,["verts","lines","polys","strips"]),function(t,e){e.classHierarchy.push("vtkPolyData"),to.forEach((n=>{var r;t[`getNumberOf${r=n,r.replace(/(?:^\w|[A-Z]|\b\w)/g,(t=>t.toUpperCase())).replace(/\s+/g,"")}`]=()=>e[n].getNumberOfCells(),e[n]?e[n]=S(e[n]):e[n]=ar.newInstance()})),t.getNumberOfCells=()=>to.reduce(((t,n)=>t+e[n].getNumberOfCells()),0);const n=t.shallowCopy;t.shallowCopy=function(t){n(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),to.forEach((n=>{e[n]=ar.newInstance(),e[n].shallowCopy(t.getReferenceByName(n))}))},t.buildCells=()=>{const n=t.getNumberOfVerts(),r=t.getNumberOfLines(),o=t.getNumberOfPolys(),i=t.getNumberOfStrips(),a=n+r+o+i,s=new Uint8Array(a);let u=s;const l=new Uint32Array(a);let c=l;if(n){let t=0;e.verts.getCellSizes().forEach(((e,n)=>{c[n]=t,u[n]=e>1?Ar:br,t+=e+1})),c=c.subarray(n),u=u.subarray(n)}if(r){let t=0;e.lines.getCellSizes().forEach(((e,n)=>{c[n]=t,u[n]=e>2?Ir:wr,1===e&&eo("Building VTK_LINE ",n," with only one point, but VTK_LINE needs at least two points. Check the input."),t+=e+1})),c=c.subarray(r),u=u.subarray(r)}if(o){let t=0;e.polys.getCellSizes().forEach(((e,n)=>{switch(c[n]=t,e){case 3:u[n]=xr;break;case 4:u[n]=Pr;break;default:u[n]=Or}e<3&&eo("Building VTK_TRIANGLE ",n," with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),t+=e+1})),c+=c.subarray(o),u+=u.subarray(o)}if(i){let t=0;u.fill(Cr,0,i),e.strips.getCellSizes().forEach(((e,n)=>{c[n]=t,t+=e+1}))}e.cells=Mr.newInstance(),e.cells.setCellTypes(a,s,l)},t.buildLinks=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;void 0===e.cells&&t.buildCells(),e.links=mr.newInstance(),n>0?e.links.allocate(n):e.links.allocate(t.getPoints().getNumberOfPoints()),e.links.buildLinks(t)},t.getCellType=t=>e.cells.getCellType(t),t.getCellPoints=n=>{const r=t.getCellType(n);let o=null;switch(r){case br:case Ar:o=e.verts;break;case wr:case Ir:o=e.lines;break;case xr:case Pr:case Or:o=e.polys;break;case Cr:o=e.strips;break;default:return o=null,{type:0,cellPointIds:null}}const i=e.cells.getCellLocation(n);return{cellType:r,cellPointIds:o.getCell(i)}},t.getPointCells=t=>e.links.getCells(t),t.getCellEdgeNeighbors=(t,n,r)=>{const o=e.links.getLink(n),i=e.links.getLink(r);return o.cells.filter((e=>e!==t&&-1!==i.cells.indexOf(e)))},t.getCell=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=t.getCellPoints(e),o=n||no[r.cellType].newInstance();return o.initialize(t.getPoints(),r.cellPointIds),o}}(t,e)}var io={newInstance:St.newInstance(oo,"vtkPolyData"),extend:oo};const ao=new Set,so={};function uo(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,so,n),St.obj(t,e),St.algo(t,e,1,1),function(t){t.requestData=(e,n)=>{const[r]=e;n[0]||(n[0]=io.newInstance());const[o]=n;t.extractContours(r,o),o.modified()},t.traverseLoop=(t,e,n,r,o)=>{let i=n,a=r,s=!1,u=0;for(;!s;){const{cellPointIds:n}=t.getCellPoints(i);if(!n)continue;a=n[0]!==a?n[0]:n[1],u++;const l=e*u;o.push({t:l,ptId:a});const c=t.getPointCells(a);if(2!==c.length||a===r)return a;2===c.length?(i=c[0]!==i?c[0]:c[1],ao.add(i)):s=!0}return a},t.extractContours=(e,n)=>{const r=[];ao.clear();const o=e.getLines();n.getPoints().setData(Float32Array.from(e.getPoints().getData()));for(let n=0;n<o.getNumberOfCells();n++){if(ao.has(n))continue;const{cellPointIds:o}=e.getCellPoints(n);if(!o)continue;ao.add(n);const i=o[0],a=[];a.push({t:0,ptId:i}),i!==t.traverseLoop(e,1,n,i,a)&&(t.traverseLoop(e,-1,n,i,a),a.sort(((t,e)=>t.t<e.t?-1:1)),a.length&&a[0].ptId!==a[a.length-1]?.ptId&&a.push({...a[a.length-1]})),a.length&&r.push(a)}const i=n.getLines();i.resize(0),r.forEach((t=>{i.insertNextCell(t.map((t=>t.ptId)))}))}}(t)}var lo={newInstance:St.newInstance(uo,"vtkContourLoopExtraction"),extend:uo};const{vtkErrorMacro:co}=kt;function fo(t,e){e.classHierarchy.push("vtkCutter");const n={...t};t.getMTime=()=>{let t=n.getMTime();return e.cutFunction?(t=Math.max(t,e.cutFunction.getMTime()),t):t},t.requestData=(t,n)=>{const r=t[0];if(!r)return void co("Invalid or missing input");if(!e.cutFunction)return void co("Missing cut function");const o=io.newInstance();(function(t,n){const r=t.getPoints(),o=r.getData(),i=r.getNumberOfPoints(),a=[],s=[],u=[];(!e.cutScalars||e.cutScalars.length<i)&&(e.cutScalars=new Float32Array(i));let l=0,c=0;for(;l<o.length;)e.cutScalars[c++]=e.cutFunction.evaluateFunction(o[l++],o[l++],o[l++]);const f=[],p=new Array(3),d=new Array(3),g=[];for(const n=function(t){const e=t.getPolys().getData(),n=t.getStrips().getData(),r={cellSize:0,cell:[],done:!1,polyIdx:0,stripIdx:0,remainingStripLength:0,next(){if(r.polyIdx<e.length){r.cellSize=e[r.polyIdx];const t=r.polyIdx+1,n=t+r.cellSize;r.polyIdx=n;let o=0;for(let i=t;i<n;++i)r.cell[o++]=e[i]}else if(r.stripIdx<n.length){r.cellSize=3,0===r.remainingStripLength&&(r.remainingStripLength=n[r.stripIdx]-2,r.stripIdx+=3);const t=r.stripIdx-2,e=r.stripIdx+1;r.stripIdx++,r.remainingStripLength--;let o=0;for(let i=t;i<e;++i)r.cell[o++]=n[i]}else{if(r.done)throw new Error("Iterator is done");r.done=!0}}};return r.next(),r}(t);!n.done;n.next()){if(n.cellSize<=2)continue;for(let t=0;t<n.cellSize;)g[t]=e.cutScalars[n.cell[t++]];const t=g[0]>0;let r=!0;for(let e=1;e<n.cell.length;e++)if(g[e]>0!==t){r=!1;break}if(r)continue;const i=[];for(let t=0;t<n.cellSize;t++){const r=t+1===n.cellSize?0:t+1,a=g[t]>0;if(g[r]>0===a)continue;let s=t,u=r,l=g[u]-g[s];l<=0&&(s=r,u=t,l*=-1);let c=0;0!==l&&(c=(e.cutValue-g[s])/l);const f=n.cell[s],y=n.cell[u];p[0]=o[3*f],p[1]=o[3*f+1],p[2]=o[3*f+2],d[0]=o[3*y],d[1]=o[3*y+1],d[2]=o[3*y+2];const h=[p[0]+c*(d[0]-p[0]),p[1]+c*(d[1]-p[1]),p[2]+c*(d[2]-p[2])];i.push({pointEdge1:f,pointEdge2:y,intersectedPoint:h,newPointID:-1})}for(let t=0;t<i.length;t++){const e=i[t];let n=!1;for(let r=0;r<f.length;r++){const o=f[r],a=e.pointEdge1===o.pointEdge1&&e.pointEdge2===o.pointEdge2,s=e.intersectedPoint[0]===o.intersectedPoint[0]&&e.intersectedPoint[1]===o.intersectedPoint[1]&&e.intersectedPoint[2]===o.intersectedPoint[2];if(a||s){n=!0,i[t].newPointID=f[r].newPointID;break}}n||(a.push(e.intersectedPoint[0]),a.push(e.intersectedPoint[1]),a.push(e.intersectedPoint[2]),i[t].newPointID=a.length/3-1,f.push(i[t]))}const l=i.length;2===l?s.push(l,i[0].newPointID,i[1].newPointID):l>2&&(u.push(l),i.forEach((t=>{u.push(t.newPointID)})))}n.getPoints().setData(G(r.getDataType(),a),3),0!==s.length&&n.getLines().setData(Uint16Array.from(s)),0!==u.length&&n.getPolys().setData(Uint16Array.from(u))})(r,o),n[0]=o}}const po={cutFunction:null,cutScalars:null,cutValue:0};function go(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(e,po,n),nt(t,e),dt(t,e,1,1),ut(t,e,["cutFunction","cutValue"]),fo(t,e)}var yo={newInstance:ht(go,"vtkCutter"),extend:go};const ho=.001,{EPSILON:mo}=r;function vo(t,e){return function(t,e,n=!1){let r=1/0,o=n?-1/0:0,i=1/0,a=n?-1/0:0,s=1/0,u=n?-1/0:0;const l=3===t[0]?.length;for(let e=0;e<t.length;e++){const n=t[e];r=Math.min(n[0],r),o=Math.max(n[0],o),i=Math.min(n[1],i),a=Math.max(n[1],a),l&&(s=Math.min(n[2]??s,s),u=Math.max(n[2]??u,u))}return e?(r=Math.max(n?e[0]+mo:0,r),o=Math.min(n?e[0]-mo:e[0]-1,o),i=Math.max(n?e[1]+mo:0,i),a=Math.min(n?e[1]-mo:e[1]-1,a),l&&3===e.length&&(s=Math.max(n?e[2]+mo:0,s),u=Math.min(n?e[2]-mo:e[2]-1,u))):n||(r=Math.max(0,r),o=Math.min(1/0,o),i=Math.max(0,i),a=Math.min(1/0,a),l&&(s=Math.max(0,s),u=Math.min(1/0,u))),l?[[r,o],[i,a],[s,u]]:[[r,o],[i,a],null]}(t,e,!0)}function bo(t,e,n,r){let o,i,a,s,u,l,c;const{numComps:f}=t;if(c=t.getScalarData?t.getScalarData():t.getPointData().getScalars().getData(),!c)return void console.warn("No scalar data found for imageData",t);const p=t.getDimensions();r?[[o,i],[a,s],[u,l]]=r:(o=0,i=p[0],a=0,s=p[1],u=0,l=p[2]);const d=oe(o,a,u),g=t.getDirection(),y=g.slice(0,3),h=g.slice(3,6),m=g.slice(6,9),v=t.getSpacing(),[b,A,w]=v,I=t.indexToWorld(d),x=oe(y[0]*b,y[1]*b,y[2]*b),C=oe(h[0]*A,h[1]*A,h[2]*A),O=oe(m[0]*w,m[1]*w,m[2]*w),P=f||c.length/p[2]/p[1]/p[0],T=p[0]*P,E=p[1]*T,S=[],k=re(I);for(let t=u;t<=l;t++){const r=re(k);for(let r=a;r<=s;r++){const a=re(k);for(let a=o;a<=i;a++){const o=[a,r,t];if(e(k,o)){const e=t*E+r*T+a*P;let i;i=P>2?[c[e],c[e+1],c[e+2]]:c[e],S.push({value:i,index:e,pointIJK:o,pointLPS:k.slice()}),n&&n({value:i,index:e,pointIJK:o,pointLPS:k})}ae(k,k,x)}ie(k,a),ae(k,k,C)}ie(k,r),ae(k,k,O)}return S}function Ao(t){for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));[t[e],t[n]]=[t[n],t[e]]}}function wo(t){let e;const n=function(t){const e=[...t];return 50>=e.length?(Ao(e),e):(Ao(e),e.slice(0,50))}(t);for(let t=0;t<3;t++)if(n.every(((e,n,r)=>Math.abs(e[t]-r[0][t])<1e-6))){e=t;break}if(void 0===e)throw new Error("Cannot find a shared dimension index for polyline, probably oblique plane");const r=[],o=(e+1)%3,i=(e+2)%3;for(let e=0;e<t.length;e++)r.push([t[e][o],t[e][i]]);return{sharedDimensionIndex:e,projectedPolyline:r}}function Io(t,e,n={closed:void 0}){if(t.length<3)return!1;const r=t.length;let o=0;const{closed:i,holes:a}=n;if(a?.length)for(const t of a)if(Io(t,e))return!1;const s=!(void 0===i?function(t){if(t.length<3)return!1;const e=t.length;return n=function(t,e){if(t.length!==e.length)throw Error("Both points should have the same dimensionality");const[n,r,o=0]=t,[i,a,s=0]=e,u=i-n,l=a-r,c=s-o;return u*u+l*l+c*c}(t[0],t[e-1]),Math.abs(0-n)<=te*Math.max(1,Math.abs(0),Math.abs(n));var n}(t):i),u=t.length-(s?1:2);for(let n=0;n<=u;n++){const i=t[n],a=t[n===r-1?0:n+1],s=i[0]>=a[0]?i[0]:a[0],u=i[1]>=a[1]?i[1]:a[1],l=i[1]<=a[1]?i[1]:a[1];if(e[0]<=s&&e[1]>=l&&e[1]<u){let t=i[0]===a[0];if(!t){const n=(e[1]-i[1])*(a[0]-i[0])/(a[1]-i[1])+i[0];t=e[0]<=n}o+=t?1:0}}return!!(o%2)}function xo(t,e){let n=t;const r=e?.numDimensions||2,o=3===r;if(!Array.isArray(t[0])){const e=t,i=e.length/r;n=new Array(e.length/r);for(let t=0,a=i;t<a;t++)n[t]=[e[t*r],e[t*r+1]],o&&n[t].push(e[t*r+2])}let i=1/0,a=1/0,s=-1/0,u=-1/0,l=1/0,c=-1/0;for(let t=0,e=n.length;t<e;t++){const[e,r,f]=n[t];i=i<e?i:e,a=a<r?a:r,s=s>e?s:e,u=u>r?u:r,o&&(l=l<f?l:f,c=c>f?c:f)}return o?{minX:i,maxX:s,minY:a,maxY:u,minZ:l,maxZ:c}:{minX:i,maxX:s,minY:a,maxY:u}}const Co=(t,e,n,r,o,i,a,s)=>{const u=[oe(n,r,o),oe(i,r,o),oe(n,a,o),oe(i,a,o),oe(n,r,s),oe(i,r,s),oe(n,a,s),oe(i,a,s)],l=oe(e[0],e[1],e[2]),c=-se(l,oe(t[0],t[1],t[2]));let f=null;for(const t of u){const e=se(l,t)+c;if(null===f)f=Math.sign(e);else if(Math.sign(e)!==f)return!0}return!1};p({polySeg:null,polySegInitializing:!1,polySegInitializingPromise:null,async initializePolySeg(t){this.polySegInitializing?await this.polySegInitializingPromise:this.polySeg?.instance||(this.polySegInitializing=!0,this.polySegInitializingPromise=new Promise((e=>{this.polySeg=new Jn,this.polySeg.initialize({updateProgress:t}).then((()=>{this.polySegInitializing=!1,e()}))})),await this.polySegInitializingPromise)},async convertContourToSurface(t,...e){const{polylines:n,numPointsArray:r}=t,[o]=e;return await this.initializePolySeg(o),await this.polySeg.instance.convertContourRoiToSurface(n,r)},async convertLabelmapToSurface(t,...e){const[n]=e;return await this.initializePolySeg(n),this.polySeg.instance.convertLabelmapToSurface(t.scalarData,t.dimensions,t.spacing,t.direction,t.origin,[t.segmentIndex])},async convertContourToVolumeLabelmap(t,...e){const[n]=e,r=await new Jn;await r.initialize({updateProgress:n});const{segmentIndices:o,scalarData:i,annotationUIDsInSegmentMap:a,dimensions:s,origin:u,direction:l,spacing:c}=t,f=tr.createVolumeVoxelManager(s,i),p=Hn.newInstance();p.setDimensions(s),p.setOrigin(u),p.setDirection(l),p.setSpacing(c);const d=An.newInstance({name:"Pixels",numberOfComponents:1,values:i});p.getPointData().setScalars(d),p.modified();for(const t of o){const e=a.get(t);for(const n of e){if(!n.polyline)continue;const{polyline:e,holesPolyline:r}=n,o=vo(e),[i,a,s]=er(p,[o[0][0],o[1][0],o[2][0]]),[u,l,c]=er(p,[o[0][1],o[1][1],o[2][1]]),{projectedPolyline:d,sharedDimensionIndex:g}=wo(e),y=r?.map((t=>{const{projectedPolyline:e}=wo(t);return e})),h=(g+1)%3,m=(g+2)%3;bo(p,(t=>{const e=[t[h],t[m]];return Io(d,e,{holes:y})}),(({pointIJK:e})=>{f.setAtIJKPoint(e,t)}),[[i,u],[a,l],[s,c]])}}return f.scalarData},async convertContourToStackLabelmap(t,...e){const[n]=e,r=await new Jn;await r.initialize({updateProgress:n});const{segmentationsInfo:o,annotationUIDsInSegmentMap:i,segmentIndices:a}=t,s=new Map;o.forEach(((t,e)=>{const{dimensions:n,scalarData:r,direction:o,spacing:i,origin:a}=t,u=tr.createVolumeVoxelManager(n,r),l=Hn.newInstance();l.setDimensions(n),l.setOrigin(a),l.setDirection(o),l.setSpacing(i);const c=An.newInstance({name:"Pixels",numberOfComponents:1,values:r});l.getPointData().setScalars(c),l.modified(),s.set(e,{manager:u,imageData:l})}));for(const t of a){const e=i.get(t);for(const n of e){if(!n.polyline)continue;const{polyline:e,holesPolyline:r,referencedImageId:o}=n,i=vo(e),{manager:a,imageData:u}=s.get(o),[l,c,f]=er(u,[i[0][0],i[1][0],i[2][0]]),[p,d,g]=er(u,[i[0][1],i[1][1],i[2][1]]),{projectedPolyline:y,sharedDimensionIndex:h}=wo(e),m=r?.map((t=>{const{projectedPolyline:e}=wo(t);return e})),v=(h+1)%3,b=(h+2)%3;bo(u,(t=>{const e=[t[v],t[b]];return Io(y,e,{holes:m})}),(({pointIJK:e})=>{a.setAtIJKPoint(e,t)}),[[l,p],[c,d],[f,g]])}}return o.forEach(((t,e)=>{const{manager:n}=s.get(e);t.scalarData=n.scalarData})),o},async convertSurfaceToVolumeLabelmap(t,...e){const[n]=e;return await this.initializePolySeg(n),this.polySeg.instance.convertSurfaceToLabelmap(t.points,t.polys,t.dimensions,t.spacing,t.direction,t.origin)},async convertSurfacesToVolumeLabelmap(t,...e){const[n]=e;await this.initializePolySeg(n);const{segmentsInfo:r}=t,o=Array.from(r.keys()).map((e=>{const{points:n,polys:o}=r.get(e);return{...this.polySeg.instance.convertSurfaceToLabelmap(n,o,t.dimensions,t.spacing,t.direction,t.origin),segmentIndex:e}})),i=await Promise.all(o),a=Hn.newInstance();a.setDimensions(t.dimensions),a.setOrigin(t.origin),a.setSpacing(t.spacing),a.setDirection(t.direction);const s=t.dimensions[0]*t.dimensions[1]*t.dimensions[2],u=An.newInstance({name:"Pixels",numberOfComponents:1,values:new Uint8Array(s)});a.getPointData().setScalars(u),a.modified();const l=tr.createVolumeVoxelManager(t.dimensions,a.getPointData().getScalars().getData()),c=i.map((t=>{const{data:e,dimensions:n,direction:r,origin:o,spacing:i}=t,a=Hn.newInstance();a.setDimensions(n),a.setOrigin(o),a.setSpacing(i),a.setDirection(r);const s=An.newInstance({name:"Pixels",numberOfComponents:1,values:e});a.getPointData().setScalars(s),a.modified();const u=tr.createVolumeVoxelManager(n,e),l=a.getExtent();return{volume:a,voxelManager:u,extent:l,scalarData:e,segmentIndex:t.segmentIndex}}));return bo(a,(()=>!0),(({pointIJK:t,pointLPS:e})=>{try{for(const n of c){const{volume:r,extent:o,voxelManager:i,segmentIndex:a}=n,s=r.worldToIndex(e);if(s[0]<o[0]||s[0]>o[1]||s[1]<o[2]||s[1]>o[3]||s[2]<o[4]||s[2]>o[5])continue;const u=s.map(Math.round);if(i.getAtIJK(...u)>0){l.setAtIJKPoint(t,a);break}}}catch(t){}})),l.scalarData},getSurfacesAABBs({surfacesInfo:t}){const e=new Map;for(const{points:n,id:r}of t){const t=xo(n,{numDimensions:3});e.set(r,t)}return e},cutSurfacesIntoPlanes({planesInfo:t,surfacesInfo:e,surfacesAABB:n=new Map},r,o){const i=t.length,a=yo.newInstance(),s=Ce.newInstance();a.setCutFunction(s);const u=io.newInstance();try{for(const[l,c]of t.entries()){const{sliceIndex:t,planes:f}=c,p=new Map;for(const t of e){const{points:e,polys:r,id:o}=t,i=n.get(o)||xo(e,{numDimensions:3});n.has(o)||n.set(o,i);const{minX:l,minY:c,minZ:d,maxX:g,maxY:y,maxZ:h}=i,{origin:m,normal:v}=f[0];if(!Co(m,v,l,c,d,g,y,h))continue;u.getPoints().setData(e,3),u.getPolys().setData(r,3),u.modified(),a.setInputData(u),s.setOrigin(m),s.setNormal(v);try{a.update()}catch(t){console.warn("Error during clipping",t);continue}const b=a.getOutputData(),A=b;A.buildLinks();const w=lo.newInstance();w.setInputData(A);const I=w.getOutputData();b&&p.set(o,{points:I.getPoints().getData(),lines:I.getLines().getData(),numberOfCells:I.getLines().getNumberOfCells()})}r({progress:(l+1)/i}),o({sliceIndex:t,polyDataResults:p})}}catch(t){console.warn("Error during processing",t)}finally{e=null,s.delete()}}})},296:(t,e,n)=>{"use strict";var r=n(429),o=n(464),i=n(453),a=n(275);t.exports=function(t,e,n){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new i("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new i("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,c=arguments.length>6&&arguments[6],f=!!a&&a(t,e);if(r)r(t,e,{configurable:null===l&&f?f.configurable:!l,enumerable:null===s&&f?f.enumerable:!s,value:n,writable:null===u&&f?f.writable:!u});else{if(!c&&(s||u||l))throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=n}}},289:(t,e,n)=>{"use strict";var r=n(215),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=n(296),u=n(44)(),l=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;u?s(t,e,n,!0):s(t,e,n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)l(t,i[s],e[i[s]],n[i[s]])};c.supportsDescriptors=!!u,t.exports=c},429:(t,e,n)=>{"use strict";var r=n(210)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(t){r=!1}t.exports=r},981:t=>{"use strict";t.exports=EvalError},648:t=>{"use strict";t.exports=Error},726:t=>{"use strict";t.exports=RangeError},712:t=>{"use strict";t.exports=ReferenceError},464:t=>{"use strict";t.exports=SyntaxError},453:t=>{"use strict";t.exports=TypeError},915:t=>{"use strict";t.exports=URIError},63:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(o=r;0!=o--;)if(!t(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(i=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},92:t=>{"use strict";var e=Object.prototype.toString,n=Math.max,r=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var o=0;o<e.length;o+=1)n[o+t.length]=e[o];return n};t.exports=function(t){var o=this;if("function"!=typeof o||"[object Function]"!==e.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,a=function(t){for(var e=[],n=1,r=0;n<t.length;n+=1,r+=1)e[r]=t[n];return e}(arguments),s=n(0,o.length-a.length),u=[],l=0;l<s;l++)u[l]="$"+l;if(i=Function("binder","return function ("+function(t){for(var e="",n=0;n<t.length;n+=1)e+=t[n],n+1<t.length&&(e+=",");return e}(u)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var e=o.apply(this,r(a,arguments));return Object(e)===e?e:this}return o.apply(t,r(a,arguments))})),o.prototype){var c=function(){};c.prototype=o.prototype,i.prototype=new c,c.prototype=null}return i}},612:(t,e,n)=>{"use strict";var r=n(92);t.exports=Function.prototype.bind||r},210:(t,e,n)=>{"use strict";var r,o=n(648),i=n(981),a=n(726),s=n(712),u=n(464),l=n(453),c=n(915),f=Function,p=function(t){try{return f('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}var g=function(){throw new l},y=d?function(){try{return g}catch(t){try{return d(arguments,"callee").get}catch(t){return g}}}():g,h=n(405)(),m=n(185)(),v=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),b={},A="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h&&v?v(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":u,"%ThrowTypeError%":y,"%TypedArray%":A,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":c,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(t){var I=v(v(t));w["%Error.prototype%"]=I}var x=function t(e){var n;if("%AsyncFunction%"===e)n=p("async function () {}");else if("%GeneratorFunction%"===e)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=p("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return w[e]=n,n},C={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O=n(612),P=n(824),T=O.call(Function.call,Array.prototype.concat),E=O.call(Function.apply,Array.prototype.splice),S=O.call(Function.call,String.prototype.replace),k=O.call(Function.call,String.prototype.slice),N=O.call(Function.call,RegExp.prototype.exec),D=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_=/\\(\\)?/g,M=function(t,e){var n,r=t;if(P(C,r)&&(r="%"+(n=C[r])[0]+"%"),P(w,r)){var o=w[r];if(o===b&&(o=x(r)),void 0===o&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new u("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,t))throw new u("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=k(t,0,1),n=k(t,-1);if("%"===e&&"%"!==n)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new u("invalid intrinsic syntax, expected opening `%`");var r=[];return S(t,D,(function(t,e,n,o){r[r.length]=n?S(o,_,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",o=M("%"+r+"%",e),i=o.name,a=o.value,s=!1,c=o.alias;c&&(r=c[0],E(n,T([0,1],c)));for(var f=1,p=!0;f<n.length;f+=1){var g=n[f],y=k(g,0,1),h=k(g,-1);if(('"'===y||"'"===y||"`"===y||'"'===h||"'"===h||"`"===h)&&y!==h)throw new u("property names with quotes must have matching quotes");if("constructor"!==g&&p||(s=!0),P(w,i="%"+(r+="."+g)+"%"))a=w[i];else if(null!=a){if(!(g in a)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&f+1>=n.length){var m=d(a,g);a=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:a[g]}else p=P(a,g),a=a[g];p&&!s&&(w[i]=a)}}return a}},221:t=>{"use strict";"undefined"!=typeof self?t.exports=self:"undefined"!=typeof window?t.exports=window:t.exports=Function("return this")()},503:(t,e,n)=>{"use strict";var r=n(289),o=n(221),i=n(168),a=n(471),s=i(),u=function(){return s};r(u,{getPolyfill:i,implementation:o,shim:a}),t.exports=u},168:(t,e,n)=>{"use strict";var r=n(221);t.exports=function(){return"object"==typeof n.g&&n.g&&n.g.Math===Math&&n.g.Array===Array?n.g:r}},471:(t,e,n)=>{"use strict";var r=n(289),o=n(168);t.exports=function(){var t=o();if(r.supportsDescriptors){var e=Object.getOwnPropertyDescriptor(t,"globalThis");e&&(!e.configurable||!e.enumerable&&e.writable&&globalThis===t)||Object.defineProperty(t,"globalThis",{configurable:!0,enumerable:!1,value:t,writable:!0})}else"object"==typeof globalThis&&globalThis===t||(t.globalThis=t);return t}},275:(t,e,n)=>{"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},44:(t,e,n)=>{"use strict";var r=n(429),o=function(){return!!r};o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},185:t=>{"use strict";var e={__proto__:null,foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof n)}},405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},824:(t,e,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(612);t.exports=i.call(r,o)},987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=a(t),s=e&&"[object String]"===i.call(t),p=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var g=l&&n;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)p.push(String(y));if(r&&t.length>0)for(var h=0;h<t.length;++h)p.push(String(h));else for(var m in t)g&&"prototype"===m||!o.call(t,m)||p.push(String(m));if(u)for(var v=function(t){if("undefined"==typeof window||!d)return f(t);try{return f(t)}catch(t){return!1}}(t),b=0;b<c.length;++b)v&&"constructor"===c[b]||!o.call(t,c[b])||p.push(c[b]);return p}}t.exports=r},215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(414),i=Object.keys,a=i?function(t){return i(t)}:n(987),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},377:(t,e,n)=>{var r=n(832),o=n(652),i=n(801),a=n(30),s=n(618),u=n(49),l=n(971);l.alea=r,l.xor128=o,l.xorwow=i,l.xorshift7=a,l.xor4096=s,l.tychei=u,t.exports=l},832:function(t,e,n){var r;!function(t,o){function i(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function s(t,e){var n=new i(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.alea=s}(0,t=n.nmd(t),n.amdD)},49:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function s(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.tychei=s}(0,t=n.nmd(t),n.amdD)},652:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function s(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.xor128=s}(0,t=n.nmd(t),n.amdD)},618:function(t,e,n){var r;!function(t,o){function i(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,a,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),o=0,i=-32;i<u;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;t.w=a,t.X=s,t.i=o}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function s(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.xor4096=s}(0,t=n.nmd(t),n.amdD)},30:function(t,e,n){var r;!function(t,o){function i(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function s(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.xorshift7=s}(0,t=n.nmd(t),n.amdD)},801:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function s(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&a(r,n),o.state=function(){return a(n,{})}),o}o&&o.exports?o.exports=s:n.amdD&&n.amdO?void 0===(r=function(){return s}.call(e,n,e,o))||(o.exports=r):this.xorwow=s}(0,t=n.nmd(t),n.amdD)},971:function(t,e,n){var r;!function(o,i,a){var s,u=256,l=a.pow(u,6),c=a.pow(2,52),f=2*c,p=255;function d(t,e,n){var r=[],p=m(h((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(i)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(o.crypto||o.msCrypto).getRandomValues(t)),v(t)}catch(t){var e=o.navigator,n=e&&e.plugins;return[+new Date,o,n,o.screen,v(i)]}}():t,3),r),d=new g(r),b=function(){for(var t=d.g(6),e=l,n=0;t<c;)t=(t+n)*u,e*=u,n=d.g(1);for(;t>=f;)t/=2,e/=2,n>>>=1;return(t+n)/e};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,m(v(d.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&y(r,d),t.state=function(){return y(d,{})}),n?(a.random=t,e):t})(b,p,"global"in e?e.global:this==a,e.state)}function g(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(t=[n++]);o<u;)a[o]=o++;for(o=0;o<u;o++)a[o]=a[i=p&i+t[o%n]+(e=a[o])],a[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,a=r.S;t--;)e=a[o=p&o+1],n=n*u+a[p&(a[o]=a[i=p&i+e])+(a[i]=e)];return r.i=o,r.j=i,n})(u)}function y(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function h(t,e){var n,r=[],o=typeof t;if(e&&"object"==o)for(n in t)try{r.push(h(t[n],e-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function m(t,e){for(var n,r=t+"",o=0;o<r.length;)e[p&o]=p&(n^=19*e[p&o])+r.charCodeAt(o++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(m(a.random(),i),t.exports){t.exports=d;try{s=n(42)}catch(t){}}else void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)}}]);